webpackJsonp([1],{E2n2:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=o("VU/8")({name:"App"},a,!1,function(t){o("ymcE")},null,null).exports,s=o("/ocq"),l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"home-container"},[o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#333744","text-color":"white",router:!0,"default-active":this.$route.path}},t._l(t.$router.options.routes,function(e){return o("el-submenu",{key:e.index,attrs:{index:"1","default-active":"this.$route.path","text-color":"white"}},[o("template",{slot:"title"},[o("span",[t._v(t._s(e.title))])]),t._v(" "),t._l(e.children,function(e){return o("el-menu-item",{key:e.index,attrs:{index:""+e.path}},[o("template",{slot:"title"},[o("span",[t._v(t._s(e.title))])])],2)})],2)}),1)],1),t._v(" "),o("el-container",[o("el-main",[o("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var n=o("VU/8")({name:"home",data:function(){return{}},methods:{}},l,!1,function(t){o("v0PN")},null,null).exports,m=o("mvHQ"),c=o.n(m),u={setCate:function(t){for(var e=0;e<t.length;e++){var o=JSON.parse(window.sessionStorage.getItem("key_"+t[e].Bid));t[e].Brand=o.brand,t[e].Category=o.category}return t},resetForm:function(t,e){switch(e){case"searchRef":this.rest(t,"searchRef");break;case"addCateRef":this.rest(t,"addCateRef");break;case"addBrandsFormRef":this.rest(t,"addBrandsFormRef");break;case"remarkForm":this.rest(t,"remarkForm");break;case"addForm":this.rest(t,"addForm");break;case"outStockForm":this.rest(t,"outStockForm");break;case"setCustomerForm":this.rest(t,"setCustomerForm");break;case"customerForm":this.rest(t,"customerForm");break;case"outStockRef":this.rest(t,"outStockRef")}},rest:function(t,e){void 0!==t.$refs[e]&&t.$refs[e].resetFields()},getFormDataFromJson:function(t){var e=new URLSearchParams;for(var o in t)e.append(o,t[o]);return e}},d=function(){return{list:[],addForm:{name:""},addBrandsForm:{name:""},bId:"",showCateDialogVisible:!1,showBrandDialogVisible:!1,bs:!1,visible:!1,addCateFormRules:{name:[{required:!0,message:"品类不能为空",trigger:"blur"}]},addBrandFormRules:{name:[{required:!0,message:"品牌不能为空",trigger:"blur"}]}}},p={created:function(){this.getList()},data:function(){return d()},methods:{getList:function(){var t=this;this.$axios.get("http://localhost/category").then(function(e){t.list=e.data;for(var o=0;o<e.data.length;o++)for(var r=0;r<e.data[o].Category.length;r++){var a={category:e.data[o].Name,brand:e.data[o].Category[r].Name};window.sessionStorage.setItem("key_"+e.data[o].Category[r].Id,c()(a))}window.sessionStorage.setItem("pickValue",c()(t.list))})},addcate:function(){for(var t=this,e=0;e<this.list.length;e++)if(this.list[e].Name==this.addForm.name)return this.$notify.error({title:"错误",message:"该分类已存在",position:"bottom-right"}),!0;this.$axios.post("http://localhost/category",{name:this.addForm.name}).then(function(e){t.$notify.success({title:"成功",message:"品类添加成功",position:"bottom-right"}),window.sessionStorage.clear(),t.getList()}).catch(function(e){t.$notify.error({title:"错误",message:"品类添加失败",position:"bottom-right"})}),this.visible=!1},addFormClose:function(){this.$refs.addCateRef.resetFields()},addBrandId:function(t){this.bId=t,this.showBrandDialogVisible=!0},addBrand:function(){var t=this;this.$axios.post("http://localhost/category",{pid:this.bId,name:this.addBrandsForm.name}).then(function(){t.$notify.success({title:"成功",message:"品牌添加成功",position:"bottom-right"}),window.sessionStorage.clear(),t.getList()}).catch(function(e){t.$notify.error({title:"错误",message:"品牌添加失败",position:"bottom-right"})}),this.showBrandDialogVisible=!1},addBrandsFormClose:function(){this.$refs.addBrandsFormRef.resetFields()},deleteBrand:function(t){var e=this;this.$confirm("确认删除该品类?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("http://localhost/category/"+t).then(function(t){window.sessionStorage.clear(),e.getList(),e.$notify.success({title:"成功",message:"分类已删除",position:"bottom-right"})}).catch(function(t){e.$notify.error({title:"错误",message:t.response.data,position:"bottom-right"})})})},removeBrand:function(t){var e=this;this.$axios.delete("http://localhost/category/"+t).then(function(t){window.sessionStorage.clear(),e.getList(),e.$notify.success({title:"成功",message:"品牌已删除",position:"bottom-right"})}).catch(function(t){e.$notify.error({title:"错误",message:"删除品牌失败",position:"bottom-right"})})},formClose:function(t){u.resetForm(this,t)}}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("el-card",[o("el-row",[o("el-row",{attrs:{type:"flex",justify:"space-between"}},[o("el-row",[o("div",[t._v("品类列表")])]),t._v(" "),o("el-row",[o("el-popover",{attrs:{placement:"left",width:"80px"},on:{hide:function(e){return t.formClose("addCateRef")}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[o("el-form",{ref:"addCateRef",attrs:{model:t.addForm,rules:t.addCateFormRules}},[o("el-form-item",{attrs:{prop:"name"}},[o("el-input",{staticClass:"input",model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)],1),t._v(" "),o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addcate}},[t._v("确定")]),t._v(" "),o("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("新增品类")])],1)],1)],1),t._v(" "),o("el-row",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,stripe:"",border:"","highlight-current-row":""}},[o("el-table-column",{attrs:{label:"品类",prop:"Name"}}),t._v(" "),o("el-table-column",{attrs:{label:"品牌"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-row",t._l(e.row.Category,function(e){return o("el-col",{key:e.id,attrs:{span:7}},[o("el-tag",{attrs:{size:"medium",hit:"",closable:""},on:{close:function(o){return t.removeBrand(e.Id)}}},[t._v(t._s(e.Name))])],1)}),1)]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.addBrandId(e.row.Id)}}},[t._v("新增品牌")]),t._v(" "),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return t.deleteBrand(e.row.Id)}}},[t._v("删除品类")])]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"新增品牌",width:"30%",visible:t.showBrandDialogVisible},on:{"update:visible":function(e){t.showBrandDialogVisible=e},close:t.addBrandsFormClose}},[o("el-form",{ref:"addBrandsFormRef",attrs:{"label-width":"80px",model:t.addBrandsForm,rules:t.addBrandFormRules}},[o("el-form-item",{attrs:{label:"品牌",prop:"name"}},[o("el-input",{model:{value:t.addBrandsForm.name,callback:function(e){t.$set(t.addBrandsForm,"name",e)},expression:"addBrandsForm.name"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showBrandDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addBrand}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(p,h,!1,function(t){o("gJuA")},"data-v-1d933425",null).exports;var b=function(){return{session:[],searchForm:{keyword:"",time:[],checked:!1},addValue:[],editValue:[],keyword:"",options:[],stockList:[],showAddFormDialogVisible:!1,addForm:{Provider:"",Date:"",Bid:"",Model:"",Price:"",Quantity:0},addFormRules:{Provider:[{required:!0,message:"请输入供应商",trigger:"blur"}],Date:[{required:!0,message:"请输入时间",trigger:"blur"}],date:[{required:!0,message:"请输入时间",trigger:"blur"}],Cate:[{required:!0,message:"请输入品类品牌",trigger:"blur"}],Model:[{required:!0,message:"请输入型号",trigger:"blur"}],Price:[{required:!0,message:"请输入进货价格",trigger:"blur"}],Quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],Inventory:[{required:!0,message:"请输入数量",trigger:"blur"}],sell:[{required:!0,message:"请输入售价",trigger:"blur"}],shipper:[{required:!0,message:"请输入出货人",trigger:"blur"}],outDate:[{required:!0,message:"请输入时间",trigger:"blur"}],quantity:[{required:!0,message:"请输入数量",trigger:"blur"}]},showEditFormDialogVisible:!1,editForm:{Id:"",Provider:"",Date:"",Bid:"",Model:"",Price:"",Quantity:"",Inventory:"",Brand:"",Category:"",EditNum:""},remarkForm:{Remarks:"",Id:""},showRemarkDialogVisible:!1,outStockFormDialogVisible:!1,outStockForm:{provider:"",cate:"",brand:"",model:"",price:"",inventory:"",inDate:"",sid:"",outDate:"",quantity:0,shipper:"",sell:""},outStockValue:"",filters:{}}},v=(o("VJuS"),{data:function(){return b()},created:function(){this.getList()},methods:{getList:function(){var t=this;this.$axios.get("http://localhost/stock").then(function(e){t.stockList=u.setCate(e.data),t.options=JSON.parse(window.sessionStorage.getItem("pickValue")),t.stockList.length>100&&t.$notify({title:"警告",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"})}).catch(function(t){console.log(t)})},search:function(){var t=this;this.$axios.get("http://localhost/stock",{params:{provider:this.searchForm.keyword,begin:this.searchForm.time[0],end:this.searchForm.time[1],all:this.searchForm.checked}}).then(function(e){t.stockList=u.setCate(e.data)}).catch(function(t){console.log(t.response)})},addStock:function(){var t=this;parseFloat(this.addForm.Price)<=0?this.$notify({title:"警告",message:"请输入正确的价格",position:"bottom-right",type:"warning"}):""==this.addForm.Date?this.$notify({title:"警告",message:"请输入正确的时间",position:"bottom-right",type:"warning"}):this.$refs.addForm.validate(function(e){e&&t.$axios.post("http://localhost/stock",{provider:t.addForm.Provider,date:t.addForm.Date,bid:t.addForm.Bid,model:t.addForm.Model,price:parseFloat(t.addForm.Price),Quantity:t.addForm.Quantity}).then(function(e){t.addValue=[],t.$notify.success({title:"成功",message:"入库成功",position:"bottom-right"}),t.getList(),t.showAddFormDialogVisible=!1}).catch(function(e){t.$notify.error({title:"错误",message:e,position:"bottom-right"})})})},addChangeRef:function(){var t=this.$refs.cascader.getCheckedNodes()[0].data.Id;this.addForm.Bid=t},showRemark:function(t){this.remarkForm.Remarks=t.Remarks,this.remarkForm.Id=t.Id,this.showRemarkDialogVisible=!0},addRemark:function(){var t=this,e={remarks:this.remarkForm.Remarks};this.$axios.put("http://localhost/stock/"+this.remarkForm.Id+"/remarks",u.getFormDataFromJson(e)).then(function(){t.getList(),t.showRemarkDialogVisible=!1}).catch(function(t){console.log(t.response)})},showDditForm:function(t){this.editForm.Provider=t.Provider,this.editForm.Date=t.Date,this.editForm.Model=t.Model,this.editForm.Price=t.Price,this.editForm.Quantity=t.Quantity,this.editForm.Inventory=t.Inventory,this.editForm.Bid=t.Bid,this.editValue=[t.Category,t.Brand],this.showEditFormDialogVisible=!0,this.editForm.Id=t.Id,this.editForm.EditNum=t.Quantity-t.Inventory},changePrice:function(){this.$notify({title:"警告",message:"修改价格需要重新计算利润",position:"bottom-right",type:"warning"})},editChangeRef:function(){var t=this.$refs.editCascader.getCheckedNodes()[0].data.Id;this.editForm.Bid=t},editFormHandler:function(){var t=this;if(this.editForm.Quantity<this.editForm.EditNum&&0!=this.editForm.Quantity)return this.$notify.error({title:"错误",message:"新库存不能少于已销售数量",position:"bottom-right"}),!0;if(0==this.editForm.Quantity)return this.$notify.error({title:"错误",message:"新库存不能为0",position:"bottom-right"}),!0;if(null==this.editForm.Date)this.$notify.error({title:"错误",message:"请输入正确的时间",position:"bottom-right"});else if(""==this.editForm.Price||0==this.editForm.Price)this.$notify.error({title:"错误",message:"请输入正确的价格",position:"bottom-right"});else{var e={Provider:this.editForm.Provider,Date:this.editForm.Date,Model:this.editForm.Model,Price:parseFloat(this.editForm.Price),Quantity:this.editForm.Quantity,Bid:this.editForm.Bid};this.$axios.put("http://localhost/stock/"+this.editForm.Id,this.getFormDataFromJson(e)).then(function(e){t.$notify.success({title:"成功",message:"修改成功",position:"bottom-right"}),t.getList(),t.showEditFormDialogVisible=!1}).catch(function(e){console.log(e.response),t.$notify.error({title:"错误",message:e.response.data,position:"bottom-right"})})}},showOutStock:function(t){this.outStockFormDialogVisible=!0,this.outStockForm.provider=t.Provider,this.outStockValue=t.Category+" / "+t.Brand,this.outStockForm.model=t.Model,this.outStockForm.price=t.Price,this.outStockForm.inventory=t.Inventory,this.outStockForm.sid=t.Id,this.outStockForm.inDate=t.Date},outStock:function(){var t=this;0==parseFloat(this.outStockForm.sell)||""==this.outStockForm.sell?this.$notify.error({title:"错误",message:"请输入正确的售价",position:"bottom-right"}):this.outStockForm.quantity<=0?this.$notify.error({title:"错误",message:"请输入正确的出库数量",position:"bottom-right"}):this.outStockForm.quantity>this.outStockForm.inventory?this.$notify.error({title:"错误",message:"库存不足",position:"bottom-right"}):""==this.outStockForm.outDate?this.$notify.error({title:"错误",message:"请输入正确的时间",position:"bottom-right"}):parseFloat(this.outStockForm.inDate)>parseFloat(this.outStockForm.outDate)?this.$notify.error({title:"错误",message:"出库时间不能晚于入库时间",position:"bottom-right"}):this.$refs.outStockForm.validate(function(e){e?t.$axios.post("http://localhost/saled",{shipper:t.outStockForm.shipper,date:t.outStockForm.outDate,sid:t.outStockForm.sid,price:parseFloat(t.outStockForm.sell),quantity:t.outStockForm.quantity}).then(function(){t.outStockFormDialogVisible=!1,t.getList(),t.$notify.success({title:"成功",message:"出库成功",position:"bottom-right"})}).catch(function(e){"出库数量不正确"==e.response.data?t.$notify.error({title:"错误",message:e.response.data,position:"bottom-right"}):"库存数量不足"==e.response.data&&t.$notify.error({title:"错误",message:e.response.data,position:"bottom-right"})}):console.log("出库信息验证未通过")})},formClose:function(t){u.resetForm(this,t),"searchRef"==t&&(this.searchForm.checked=!1,this.getList())},tableRowClassName:function(t){return 0==t.row.Inventory?"over":""},deleteStock:function(t){var e=this;this.$confirm("确认删除该库存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("http://localhost/stock/"+t).then(function(t){e.getList(),e.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"})}).catch(function(t){e.$notify.error({title:"错误",message:t.response.data,position:"bottom-right"})})})}},filters:{formatDate:function(t){if(null==t)return"";var e=new Date(t),o=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var a=e.getDate();return o+"-"+r+"-"+(a=a<10?"0"+a:a)}}}),g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("el-card",{staticStyle:{"margin-bottom":"20px"}},[o("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[o("el-form",{ref:"searchRef",staticClass:"demo-form-inline",attrs:{model:t.searchForm,inline:!0,"label-width":"110px"}},[o("el-form-item",{attrs:{prop:"time"}},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","unlink-panels":""},model:{value:t.searchForm.time,callback:function(e){t.$set(t.searchForm,"time",e)},expression:"searchForm.time"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"供货商",prop:"keyword"}},[o("el-input",{attrs:{placeholder:"请输入供货商",clearable:""},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1),t._v(" "),o("el-checkbox",{model:{value:t.searchForm.checked,callback:function(e){t.$set(t.searchForm,"checked",e)},expression:"searchForm.checked"}},[t._v("全部库存")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),o("el-button",{on:{click:function(e){return t.formClose("searchRef")}}},[t._v("重置")])],1)],1)],1),t._v(" "),o("el-card",[o("el-row",[o("el-row",{attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:20}},[o("div",[t._v("数据列表")])]),t._v(" "),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{type:"success"},on:{click:function(e){t.showAddFormDialogVisible=!0}}},[t._v("新增库存")])],1)],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stockList,border:"","row-class-name":t.tableRowClassName}},[o("el-table-column",{attrs:{prop:"Provider",label:"供货商",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Date",label:"进货时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.Date)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"Category",label:"品类",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Brand",label:"品牌",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Price",label:"进货价格(元)",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Quantity",label:"此单总量(件)",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Inventory",label:"库存余量(件)",align:"center"}}),t._v(" "),o("el-table-column",{staticClass:"remark",attrs:{prop:"Remarks",label:"备注",width:"200px",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{width:"300px",scope:"",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:function(o){return t.showDditForm(e.row)}}})],1),t._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加备注",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-edit",size:"small",type:"success"},on:{click:function(o){return t.showRemark(e.row)}}})],1),t._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"出库",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-s-promotion",size:"small",type:"warning"},on:{click:function(o){return t.showOutStock(e.row)}}})],1),t._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-delete-solid",size:"small",type:"danger"},on:{click:function(o){return t.deleteStock(e.row.Id)}}})],1)]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"新增库存",visible:t.showAddFormDialogVisible,width:"30%",rules:t.addFormRules},on:{"update:visible":function(e){t.showAddFormDialogVisible=e},close:function(e){return t.formClose("addForm")}}},[o("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"120px",rules:t.addFormRules}},[o("el-form-item",{attrs:{label:"供应商",prop:"Provider"}},[o("el-input",{model:{value:t.addForm.Provider,callback:function(e){t.$set(t.addForm,"Provider",e)},expression:"addForm.Provider"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"时间",prop:"Date"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.addForm.Date,callback:function(e){t.$set(t.addForm,"Date",e)},expression:"addForm.Date"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"品类"}},[o("el-cascader",{ref:"cascader",attrs:{options:t.options,props:{value:"Name",label:"Name",children:"Category",expandTrigger:"hover"}},on:{change:t.addChangeRef},model:{value:t.addValue,callback:function(e){t.addValue=e},expression:"addValue"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"型号",prop:"Model"}},[o("el-input",{model:{value:t.addForm.Model,callback:function(e){t.$set(t.addForm,"Model",e)},expression:"addForm.Model"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"进货价格(元)",prop:"Price"}},[o("el-input",{attrs:{oninput:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},model:{value:t.addForm.Price,callback:function(e){t.$set(t.addForm,"Price",t._n(e))},expression:"addForm.Price"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"此单总量(件)",prop:"Quantity"}},[o("el-input-number",{attrs:{label:"描述文字",min:0,precision:0},model:{value:t.addForm.Quantity,callback:function(e){t.$set(t.addForm,"Quantity",e)},expression:"addForm.Quantity"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showAddFormDialogVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addStock}},[t._v("确定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"修改库存",visible:t.showEditFormDialogVisible,width:"30%",rules:t.addFormRules},on:{"update:visible":function(e){t.showEditFormDialogVisible=e}}},[o("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"120px",rules:t.addFormRules}},[o("el-form-item",{attrs:{label:"供应商",prop:"Provider"}},[o("el-input",{model:{value:t.editForm.Provider,callback:function(e){t.$set(t.editForm,"Provider",e)},expression:"editForm.Provider"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"时间",prop:"Date"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.editForm.Date,callback:function(e){t.$set(t.editForm,"Date",e)},expression:"editForm.Date"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"品类"}},[o("el-cascader",{ref:"editCascader",attrs:{options:t.options,props:{value:"Name",label:"Name",children:"Category",expandTrigger:"hover"}},on:{change:t.editChangeRef},model:{value:t.editValue,callback:function(e){t.editValue=e},expression:"editValue"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"型号",prop:"Model"}},[o("el-input",{model:{value:t.editForm.Model,callback:function(e){t.$set(t.editForm,"Model",e)},expression:"editForm.Model"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"进货价格(元)",prop:"Price"}},[o("el-input",{attrs:{oninput:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},on:{change:t.changePrice},model:{value:t.editForm.Price,callback:function(e){t.$set(t.editForm,"Price",e)},expression:"editForm.Price"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"此单总量(件)",prop:"Quantity"}},[o("el-input-number",{attrs:{label:"描述文字",min:0,precision:0},model:{value:t.editForm.Quantity,callback:function(e){t.$set(t.editForm,"Quantity",e)},expression:"editForm.Quantity"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"已销售数量(件)",prop:"EditNum"}},[o("el-input",{attrs:{label:"描述文字",disabled:""},model:{value:t.editForm.EditNum,callback:function(e){t.$set(t.editForm,"EditNum",e)},expression:"editForm.EditNum"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showEditFormDialogVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.editFormHandler}},[t._v("确认")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"修改库存",visible:t.showRemarkDialogVisible,width:"30%",rules:t.addFormRules},on:{"update:visible":function(e){t.showRemarkDialogVisible=e},close:function(e){return t.formClose("remarkForm")}}},[o("el-form",{ref:"remarkForm",attrs:{model:t.remarkForm,"label-width":"120px",rules:t.addFormRules}},[o("el-form-item",{attrs:{label:"备注 : ",prop:"Remarks"}},[o("el-input",{attrs:{type:"textarea",autosize:"",label:"描述文字"},model:{value:t.remarkForm.Remarks,callback:function(e){t.$set(t.remarkForm,"Remarks",e)},expression:"remarkForm.Remarks"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showRemarkDialogVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addRemark}},[t._v("确认")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"出库",visible:t.outStockFormDialogVisible,width:"30%"},on:{"update:visible":function(e){t.outStockFormDialogVisible=e},close:function(e){return t.formClose("outStockForm")}}},[o("el-form",{ref:"outStockForm",attrs:{model:t.outStockForm,"label-width":"120px",rules:t.addFormRules}},[o("el-form-item",{attrs:{label:"供应商"}},[o("el-input",{attrs:{disabled:""},model:{value:t.outStockForm.provider,callback:function(e){t.$set(t.outStockForm,"provider",e)},expression:"outStockForm.provider"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"品类"}},[o("el-input",{attrs:{disabled:""},model:{value:t.outStockValue,callback:function(e){t.outStockValue=e},expression:"outStockValue"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"型号"}},[o("el-input",{attrs:{disabled:""},model:{value:t.outStockForm.model,callback:function(e){t.$set(t.outStockForm,"model",e)},expression:"outStockForm.model"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"此单库存(件)"}},[o("el-input",{attrs:{disabled:""},model:{value:t.outStockForm.inventory,callback:function(e){t.$set(t.outStockForm,"inventory",e)},expression:"outStockForm.inventory"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"进货价格(元)"}},[o("el-input",{attrs:{disabled:""},model:{value:t.outStockForm.price,callback:function(e){t.$set(t.outStockForm,"price",e)},expression:"outStockForm.price"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.outStockForm.shipper,callback:function(e){t.$set(t.outStockForm,"shipper",e)},expression:"outStockForm.shipper"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出库时间",prop:"outDate"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.outStockForm.outDate,callback:function(e){t.$set(t.outStockForm,"outDate",e)},expression:"outStockForm.outDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出库数量(件)",prop:"quantity"}},[o("el-input-number",{attrs:{label:"描述文字",min:0,precision:0},model:{value:t.outStockForm.quantity,callback:function(e){t.$set(t.outStockForm,"quantity",e)},expression:"outStockForm.quantity"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"售价(元)",prop:"sell"}},[o("el-input",{attrs:{label:"描述文字",oninput:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},model:{value:t.outStockForm.sell,callback:function(e){t.$set(t.outStockForm,"sell",e)},expression:"outStockForm.sell"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.outStockFormDialogVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.outStock}},[t._v("确认")])],1)],1)],1)},staticRenderFns:[]};var F=o("VU/8")(v,g,!1,function(t){o("TidG")},"data-v-21193064",null).exports,k=function(){return{outStockList:[],date:"",addFormRules:{name:[{required:!0,message:"请输入供应商",trigger:"blur"}],cate:[{required:!0,message:"请输入品类",trigger:"blur"}],brand:[{required:!0,message:"请输入品牌",trigger:"blur"}],mod:[{required:!0,message:"请输入型号",trigger:"blur"}],price:[{required:!0,message:"请输入进货价格",trigger:"blur"}],num:[{required:!0,message:"请输入数量",trigger:"blur"}]},showRemarkFormDialogVisible:!1,remarkForm:{Remarks:"",Id:""},searchForm:{shipper:"",time:[]}}},y=o("mtWM"),_=o.n(y),w={data:function(){return k()},created:function(){this.getList()},methods:{getList:function(){var t=this;this.$axios.get("http://localhost/saled").then(function(e){var o=e.data;u.setCate(o),t.outStockList=o,t.outStockList.length>100&&t.$notify({title:"成功",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"})})},search:function(){var t=this;this.$axios.get("http://localhost/saled",{params:{shipper:this.searchForm.shipper,begin:this.searchForm.time[0],end:this.searchForm.time[1]}}).then(function(e){t.outStockList=u.setCate(e.data)})},showRemark:function(t){this.remarkForm.Remarks=t.Remarks,this.remarkForm.Id=t.Id,this.showRemarkFormDialogVisible=!0},addRemark:function(){var t=this,e={remarks:this.remarkForm.Remarks};this.$axios.put("http://localhost/saled/"+this.remarkForm.Id+"/remarks",u.getFormDataFromJson(e)).then(function(){t.getList(),t.showRemarkFormDialogVisible=!1}).catch(function(t){console.log(t)})},outStock:function(){var t=this;this.$confirm("确认出库该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$notify({title:"成功",message:"成功出库",type:"success",position:"bottom-right"})}).catch(function(){t.$notify.error({title:"错误",message:"取消了出库",position:"bottom-right"})})},formClose:function(t){u.resetForm(this,t),"searchRef"==t&&(this.searchForm.checked=!1,this.getList())}},filters:{formatDate:function(t){if(null==t)return"";var e=new Date(t),o=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var a=e.getDate();return o+"-"+r+"-"+(a=a<10?"0"+a:a)}}},C={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("el-card",{staticStyle:{"margin-bottom":"20px"}},[o("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[o("el-form",{ref:"searchRef",staticClass:"demo-form-inline",attrs:{model:t.searchForm,inline:!0,"label-width":"110px"}},[o("el-form-item",{attrs:{prop:"time"}},[o("el-date-picker",{attrs:{"unlink-panels":"","value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchForm.time,callback:function(e){t.$set(t.searchForm,"time",e)},expression:"searchForm.time"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[o("el-input",{attrs:{placeholder:"请输入出货人",clearable:""},model:{value:t.searchForm.shipper,callback:function(e){t.$set(t.searchForm,"shipper",e)},expression:"searchForm.shipper"}})],1),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),o("el-button",{on:{click:function(e){return t.formClose("searchRef")}}},[t._v("重置")])],1)],1)],1),t._v(" "),o("el-card",[o("el-row",[o("el-row",[o("el-col",{attrs:{span:15}},[o("div",[t._v("数据列表")])])],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.outStockList,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"InDate",label:"出货日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.OutDate)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"Provider",label:"供应商",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"OutDate",label:"入库日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.InDate)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"Category",label:"品类",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Brand",label:"品牌",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"InPrice",label:"进货价格(元)",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"OutPrice",label:"出货价格(元)",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Quantity",label:"数量(件)",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Profit",label:"利润(元)",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center",width:"150px"}}),t._v(" "),o("el-table-column",{attrs:{scope:"",align:"center",label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加备注",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-edit",size:"medium ",type:"primary"},on:{click:function(o){return t.showRemark(e.row)}}})],1),t._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确认出库",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-s-goods",size:"medium ",type:"warning"},on:{click:function(o){return t.outStock(e.row.Id)}}})],1)]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"添加备注",visible:t.showRemarkFormDialogVisible,width:"30%"},on:{"update:visible":function(e){t.showRemarkFormDialogVisible=e}}},[o("el-form",{ref:"outStockRef",attrs:{model:t.remarkForm,"label-width":"120px"},on:{close:function(e){return t.formClose("outStockRef")}}},[o("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"200",size:"max",autosize:""},model:{value:t.remarkForm.Remarks,callback:function(e){t.$set(t.remarkForm,"Remarks",e)},expression:"remarkForm.Remarks"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showRemarkFormDialogVisible=!1}}},[t._v("取消添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addRemark}},[t._v("确定添加")])],1)],1)],1)},staticRenderFns:[]};var D=o("VU/8")(w,C,!1,function(t){o("Qq5Z")},"data-v-0b9a682c",null).exports,x=function(){return{customerList:[],showRemarkFormDialogVisible:!1,remarkForm:{Remarks:"",Id:""},searchForm:{shipper:"",time:[],checked:!1},customerFormDialogVisible:!1,setCustomerForm:{shipper:"",model:"",name:"",phone:"",address:"",saleDate:"",deliveryDate:"",remarks:"",status:1},editCustomerFormDialogVisible:!1,editCustomerForm:{id:"",shipper:"",model:"",name:"",phone:"",address:"",saleDate:"",deliveryDate:"",remarks:"",status:1},formRules:{shipper:[{required:!0,message:"请输入出货人",trigger:"blur"}],model:[{required:!0,message:"请输入型号",trigger:"blur"}],name:[{required:!0,message:"请输入顾客",trigger:"blur"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}],address:[{required:!0,message:"请输入收货地址",trigger:"blur"}],saleDate:[{required:!0,message:"请输入出单时间",trigger:"blur"}],deliveryDate:[{required:!0,message:"请输入送货时间",trigger:"blur"}]},outVisible:!1}},$={getList:function(){var t=this;this.$axios.get("http://localhost/customer").then(function(e){t.customerList=e.data})},checkCustomerList:function(t){return t.length>100&&this.$notify({title:"成功",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"}),t},search:function(){var t=this;this.$axios.get("http://localhost/customer",{params:{shipper:this.searchForm.shipper,begin:this.searchForm.time[0],end:this.searchForm.time[1],all:this.searchForm.checked}}).then(function(e){t.customerList=e.data}).catch(function(t){})},showCustomer:function(){var t=this;this.customerFormDialogVisible=!0,this.$refs.setCustomerForm.validate(function(e){e?t.$axios.post("http://localhost/customer",{Shipper:t.setCustomerForm.shipper,Name:t.setCustomerForm.name,Phone:t.setCustomerForm.phone,Address:t.setCustomerForm.address,SaleDate:t.setCustomerForm.saleDate,DeliveryDate:t.setCustomerForm.deliveryDate,Model:t.setCustomerForm.model,Status:t.setCustomerForm.status,Remarks:t.setCustomerForm.remarks}).then(function(e){t.getList(),t.customerFormDialogVisible=!1,t.$notify.success({title:"成功",message:"客户信息录入成功",position:"bottom-right"})}).catch(function(e){t.$notify.error({title:"失败",message:"客户信息录入失败",position:"bottom-right"})}):console.log("验证不通过")})},showEditForm:function(t){this.editCustomerFormDialogVisible=!0,this.editCustomerForm.shipper=t.Shipper,this.editCustomerForm.model=t.Model,this.editCustomerForm.name=t.Name,this.editCustomerForm.phone=t.Phone,this.editCustomerForm.address=t.Address,this.editCustomerForm.saleDate=t.SaleDate,this.editCustomerForm.deliveryDate=t.DeliveryDate,this.editCustomerForm.status=t.Status,this.editCustomerForm.id=t.Id},EditForm:function(){var t=this;this.$axios.put("http://localhost/customer/"+this.editCustomerForm.id,{shipper:this.editCustomerForm.shipper,model:this.editCustomerForm.model,name:this.editCustomerForm.name,phone:this.editCustomerForm.phone,address:this.editCustomerForm.address,saleDate:this.editCustomerForm.saleDate,deliveryDate:this.editCustomerForm.deliveryDate,status:this.editCustomerForm.status}).then(function(e){t.getList(),t.editCustomerFormDialogVisible=!1,t.$notify.success({title:"成功",message:"客户信息修改成功",position:"bottom-right"})}).catch(function(e){t.$notify.error({title:"失败",message:"修改客户信息失败",position:"bottom-right"})})},showRemark:function(t){this.remarkForm.Remarks=t.Remarks,this.remarkForm.Id=t.Id,this.showRemarkFormDialogVisible=!0},addRemark:function(){var t=this,e={remarks:this.remarkForm.Remarks};this.$axios.put("http://localhost/customer/"+this.remarkForm.Id+"/remarks",u.getFormDataFromJson(e)).then(function(e){t.getList(),t.showRemarkFormDialogVisible=!1,t.$notify.success({title:"成功",message:"修改备注成功",position:"bottom-right"})}).catch(function(e){t.$notify.error({title:"失败",message:"修改备注失败",position:"bottom-right"})})},deleteCustomer:function(t){var e=this;this.$confirm("确认删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("http://localhost/customer/"+t).then(function(t){e.getList(),e.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"})}).catch(function(t){e.$notify.error({title:"错误",message:t.response.data,position:"bottom-right"})})})},tableRowClassName:function(t){return 0==t.row.Status?"over":""},print:function(){this.outVisible=!0},formClose:function(t){u.resetForm(this,t),"searchRef"==t&&(this.searchForm.checked=!1,this.getList())}},S=window.matchMedia("print");console.log(S),S.addListener(function(t){console.log(t),t.matches?alert(1):alert(2)});var R={data:function(){return x()},created:function(){this.getList()},methods:$,filters:{formatDate:function(t){if(null==t)return"";var e=new Date(t),o=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var a=e.getDate();return o+"-"+r+"-"+(a=a<10?"0"+a:a)}}},V={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("el-card",{staticStyle:{"margin-bottom":"20px"}},[o("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[o("el-form",{ref:"searchRef",staticClass:"demo-form-inline",attrs:{model:t.searchForm,inline:!0,"label-width":"110px"}},[o("el-form-item",{attrs:{prop:"time"}},[o("el-date-picker",{attrs:{"unlink-panels":"","value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchForm.time,callback:function(e){t.$set(t.searchForm,"time",e)},expression:"searchForm.time"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[o("el-input",{attrs:{placeholder:"请输入出货人",clearable:""},model:{value:t.searchForm.shipper,callback:function(e){t.$set(t.searchForm,"shipper",e)},expression:"searchForm.shipper"}})],1),t._v(" "),o("el-checkbox",{model:{value:t.searchForm.checked,callback:function(e){t.$set(t.searchForm,"checked",e)},expression:"searchForm.checked"}},[t._v("全部客户")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),o("el-button",{on:{click:function(e){return t.formClose("searchRef")}}},[t._v("重置")])],1)],1)],1),t._v(" "),o("el-card",[o("el-row",[o("el-row",{attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:20}},[o("div",[t._v("数据列表")])]),t._v(" "),o("el-row",{attrs:{type:"flex",justify:"end"}},[o("el-button",{attrs:{type:"success"},on:{click:function(e){t.customerFormDialogVisible=!0}}},[t._v("新增客户")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.print}},[t._v("打印预览")])],1)],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.customerList,border:"","row-class-name":t.tableRowClassName}},[o("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"SaleDate",label:"出单日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.SaleDate)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"DeliveryDate",label:"送货日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.DeliveryDate)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Name",label:"顾客姓名",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Phone",label:"联系电话",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Address",label:"送货地址",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center",width:"150px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(1==e.row.Status?"未送货":"已送货"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{scope:"",align:"center",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-setting",size:"medium ",type:"primary"},on:{click:function(o){return t.showEditForm(e.row)}}})],1),t._v(" "),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加备注",placement:"top",enterable:!1}},[o("el-button",{attrs:{icon:"el-icon-edit",size:"medium ",type:"success"},on:{click:function(o){return t.showRemark(e.row)}}})],1)]}}])})],1)],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"客户信息",visible:t.customerFormDialogVisible,width:"30%"},on:{"update:visible":function(e){t.customerFormDialogVisible=e},close:function(e){return t.formClose("setCustomerForm")}}},[o("el-form",{ref:"setCustomerForm",attrs:{model:t.setCustomerForm,"label-width":"120px",rules:t.formRules}},[o("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.setCustomerForm.shipper,callback:function(e){t.$set(t.setCustomerForm,"shipper",e)},expression:"setCustomerForm.shipper"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"型号",prop:"model"}},[o("el-input",{model:{value:t.setCustomerForm.model,callback:function(e){t.$set(t.setCustomerForm,"model",e)},expression:"setCustomerForm.model"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"顾客姓名",prop:"name"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.setCustomerForm.name,callback:function(e){t.$set(t.setCustomerForm,"name",e)},expression:"setCustomerForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.setCustomerForm.phone,callback:function(e){t.$set(t.setCustomerForm,"phone",e)},expression:"setCustomerForm.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"收货地址",prop:"address"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.setCustomerForm.address,callback:function(e){t.$set(t.setCustomerForm,"address",e)},expression:"setCustomerForm.address"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"出单时间",prop:"saleDate"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.setCustomerForm.saleDate,callback:function(e){t.$set(t.setCustomerForm,"saleDate",e)},expression:"setCustomerForm.saleDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"送货时间",prop:"deliveryDate"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.setCustomerForm.deliveryDate,callback:function(e){t.$set(t.setCustomerForm,"deliveryDate",e)},expression:"setCustomerForm.deliveryDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"备注 : ",prop:"remarks"}},[o("el-input",{attrs:{type:"textarea",autosize:"",label:"描述文字"},model:{value:t.setCustomerForm.remarks,callback:function(e){t.$set(t.setCustomerForm,"remarks",e)},expression:"setCustomerForm.remarks"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.customerFormDialogVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.showCustomer}},[t._v("确认")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"出库",visible:t.editCustomerFormDialogVisible,width:"30%"},on:{"update:visible":function(e){t.editCustomerFormDialogVisible=e}}},[o("el-form",{ref:"setCustomerForm",attrs:{model:t.editCustomerForm,"label-width":"120px",rules:t.formRules}},[o("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.editCustomerForm.shipper,callback:function(e){t.$set(t.editCustomerForm,"shipper",e)},expression:"editCustomerForm.shipper"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"型号",prop:"model"}},[o("el-input",{model:{value:t.editCustomerForm.model,callback:function(e){t.$set(t.editCustomerForm,"model",e)},expression:"editCustomerForm.model"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"顾客姓名",prop:"name",rules:[{required:!0,message:"请输入顾客姓名"}]}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.editCustomerForm.name,callback:function(e){t.$set(t.editCustomerForm,"name",e)},expression:"editCustomerForm.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.editCustomerForm.phone,callback:function(e){t.$set(t.editCustomerForm,"phone",e)},expression:"editCustomerForm.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"收货地址",prop:"address"}},[o("el-input",{attrs:{label:"描述文字"},model:{value:t.editCustomerForm.address,callback:function(e){t.$set(t.editCustomerForm,"address",e)},expression:"editCustomerForm.address"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"状态",prop:"status"}},[o("el-radio-group",{model:{value:t.editCustomerForm.status,callback:function(e){t.$set(t.editCustomerForm,"status",e)},expression:"editCustomerForm.status"}},[o("el-radio",{attrs:{label:1}},[t._v("未送货")]),t._v(" "),o("el-radio",{attrs:{label:0}},[t._v("已送货")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"出单时间",prop:"saleDate"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.editCustomerForm.saleDate,callback:function(e){t.$set(t.editCustomerForm,"saleDate",e)},expression:"editCustomerForm.saleDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"送货时间",prop:"deliveryDate"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:t.editCustomerForm.deliveryDate,callback:function(e){t.$set(t.editCustomerForm,"deliveryDate",e)},expression:"editCustomerForm.deliveryDate"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.editCustomerFormDialogVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.EditForm}},[t._v("确认")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"添加备注",visible:t.showRemarkFormDialogVisible,width:"30%"},on:{"update:visible":function(e){t.showRemarkFormDialogVisible=e},close:function(e){return t.formClose("customerForm")}}},[o("el-form",{ref:"customerForm",attrs:{model:t.remarkForm,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"200",size:"max",autosize:""},model:{value:t.remarkForm.Remarks,callback:function(e){t.$set(t.remarkForm,"Remarks",e)},expression:"remarkForm.Remarks"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showRemarkFormDialogVisible=!1}}},[t._v("取消添加")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.addRemark}},[t._v("确定添加")])],1)],1),t._v(" "),o("el-dialog",{staticClass:"print",attrs:{title:"打印预览",visible:t.outVisible,width:"1086px"},on:{"update:visible":function(e){t.outVisible=e}}},[o("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-bottom":"15px"}},[o("el-button",{on:{click:function(e){t.outVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{directives:[{name:"print",rawName:"v-print",value:"#print",expression:"'#print'"}],attrs:{type:"primary"},on:{click:t.print}},[t._v("打印")])],1),t._v(" "),o("div",{attrs:{id:"print"}},[o("el-table",{staticClass:"printTable",staticStyle:{width:"100%"},attrs:{data:t.customerList,border:""}},[o("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center",width:"100px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"SaleDate",label:"出单日期",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.SaleDate)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"DeliveryDate",label:"送货日期",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",[t._v(t._s(t._f("formatDate")(e.row.DeliveryDate)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"Name",label:"顾客姓名",align:"center",width:"100px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Phone",label:"联系电话",align:"center",width:"110px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center",width:"150px"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Address",label:"送货地址",align:"center"}}),t._v(" "),o("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center",width:"150px"}})],1)],1)])],1)},staticRenderFns:[]};var P=o("VU/8")(R,V,!1,function(t){o("E2n2")},"data-v-7ad73034",null).exports;r.default.use(s.a);var B=new s.a({routes:[{path:"/",name:"Home",title:"进销存管理系统",redirect:"/category",component:n,children:[{path:"/category",title:"品类/品牌",component:f},{path:"/stock",title:"库存列表",component:F},{path:"/customer",title:"顾客信息",component:P},{path:"/outstock",title:"出库列表",component:D}]}]}),I=o("zL8q"),L=o.n(I),M=(o("tvR6"),o("32DV")),q=o.n(M);r.default.prototype.$axios=_.a,r.default.config.productionTip=!1,r.default.use(L.a),r.default.use(q.a),new r.default({el:"#app",router:B,components:{App:i},template:"<App/>"})},Qq5Z:function(t,e){},TidG:function(t,e){},VJuS:function(t,e){var o=/^[1][3,4,5,6,7,8,9][0-9]{9}$/,r=/^\d+$|^\d+[.]?\d+$/,a=/^[\u0391-\uFFE5A-Za-z]+$/,i=function(){function t(){}return t.Form=function(){return{validateNumber:function(t,e,o){""!==e?r.test(e)?o():o(new Error("员工数量必须为数字")):o()},validateContacts:function(t,e,o){if(!e)return o(new Error("请输入联系人"));a.test(e)?o():o(new Error("联系人不可输入特殊字符"))},validatePhone:function(t,e,r){if(!e)return r(new Error("请输入手机号码"));o.test(e)?r():r(new Error("手机格式不正确"))}}},t}();e.FormValidate=i},gJuA:function(t,e){},tvR6:function(t,e){},v0PN:function(t,e){},ymcE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6c2bcd4a050ebc56b19d.js.map