webpackJsonp([1],{"+nFJ":function(e,t){},"1Jbc":function(e,t){},FsJg:function(e,t,r){var i={"./cat":"MGUO","./cat.js":"MGUO","./cd":"OkV7","./cd.js":"OkV7","./chmod":"thPH","./chmod.js":"thPH","./common":"8y2q","./common.js":"8y2q","./cp":"kEp2","./cp.js":"kEp2","./dirs":"lK6y","./dirs.js":"lK6y","./echo":"IRJ8","./echo.js":"IRJ8","./error":"HxTw","./error.js":"HxTw","./exec":"VQ1x","./exec.js":"VQ1x","./find":"r+ID","./find.js":"r+ID","./grep":"T3mR","./grep.js":"T3mR","./head":"jMmx","./head.js":"jMmx","./ln":"4Bxg","./ln.js":"4Bxg","./ls":"MULN","./ls.js":"MULN","./mkdir":"3ORl","./mkdir.js":"3ORl","./mv":"PcVt","./mv.js":"PcVt","./popd":"h3Dv","./popd.js":"h3Dv","./pushd":"PGBa","./pushd.js":"PGBa","./pwd":"+UCj","./pwd.js":"+UCj","./rm":"EaF0","./rm.js":"EaF0","./sed":"/j+X","./sed.js":"/j+X","./set":"c0cj","./set.js":"c0cj","./sort":"yc2b","./sort.js":"yc2b","./tail":"i//j","./tail.js":"i//j","./tempdir":"RvNk","./tempdir.js":"RvNk","./test":"U9dR","./test.js":"U9dR","./to":"xlaY","./to.js":"xlaY","./toEnd":"Lk2e","./toEnd.js":"Lk2e","./touch":"0Qa2","./touch.js":"0Qa2","./uniq":"lTxy","./uniq.js":"lTxy","./which":"GiAy","./which.js":"GiAy"};function o(e){return r(a(e))}function a(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id="FsJg"},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=r("VU/8")({name:"App"},o,!1,function(e){r("Ohre")},null,null).exports,s=r("/ocq"),n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-container",[r("el-aside",{attrs:{width:"200px"}},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#333744","text-color":"white",router:!0,"default-active":this.$route.path}},e._l(e.$router.options.routes,function(t){return r("el-menu-item-group",{key:t.index,attrs:{"default-active":"this.$route.path"}},e._l(t.children,function(t){return r("el-menu-item",{key:t.index,staticStyle:{"text-align":"center"},attrs:{index:""+t.path}},[r("span",[e._v(e._s(t.title))])])}),1)}),1)],1),e._v(" "),r("div",{staticStyle:{height:"100vh",width:"calc(100% - 200px)"}},[r("router-view")],1)],1)],1)},staticRenderFns:[]};var l=r("VU/8")({name:"home",data:function(){return{}},methods:{}},n,!1,function(e){r("uMV9")},null,null).exports,c=r("mvHQ"),d=r.n(c),m=r("mtWM"),u=r.n(m),p=r("//Fk"),h=r.n(p),f=r("zL8q"),g=r.n(f),v="http://localhost";u.a.interceptors.response.use(function(e){return e},function(e){return f.Notification.error({title:"错误",message:e.response.data,position:"bottom-right"}),h.a.reject(e)});var b=function(){return{list:[],addForm:{name:""},showCateDialogVisible:!1,showBrandDialogVisible:!1,visible:!1,addCategoryFormRules:{name:[{required:!0,message:"品类不能为空",trigger:"blur"}]},addBrandFormRules:{name:[{required:!0,message:"品牌不能为空",trigger:"blur"}]},inputVisible:!1,inputValue:"",currentIndex:-1,loading:!1}},y={created:function(){this.getAllCategoryList()},data:function(){return b()},methods:{getAllCategoryList:function(){var e,t=this;this.loading=!0,u.a.get(v+"/category",e).then(function(e){if(t.list=e.data,null!==e.data){for(var r=0;r<e.data.length;r++)for(var i=0;i<e.data[r].Category.length;i++){var o={category:e.data[r].Name,brand:e.data[r].Category[i].Name};window.sessionStorage.setItem("key_"+e.data[r].Category[i].Id,d()(o))}window.sessionStorage.setItem("pickValue",d()(t.list))}t.loading=!1})},showFocus:function(){var e=this;this.$nextTick(function(){e.$refs.inputRef.focus()})},addCategory:function(){var e=this;if(null!==this.list)for(var t=0;t<this.list.length;t++)if(this.list[t].Name==this.addForm.name)return this.$notify.error({title:"错误",message:"该分类已存在",position:"bottom-right"}),!0;var r,i={name:this.addForm.name};(r=i,u.a.post(v+"/category",r)).then(function(t){e.$notify.success({title:"成功",message:"品类添加成功",position:"bottom-right"}),window.sessionStorage.clear(),e.getAllCategoryList()}).catch(function(t){e.$notify.error({title:"错误",message:"品类添加失败",position:"bottom-right"})}),this.visible=!1},deleteCategoryById:function(e){var t,r=this;(t=e,u.a.delete(v+"/category/"+t)).then(function(e){window.sessionStorage.clear(),r.getAllCategoryList(),r.$notify.success({title:"成功",message:"分类已删除",position:"bottom-right"})})},deleteBrandById:function(e){var t,r=this;(t=e,u.a.delete(v+"/category/"+t)).then(function(e){window.sessionStorage.clear(),r.getAllCategoryList(),r.$notify.success({title:"成功",message:"品牌已删除",position:"bottom-right"})})},formClose:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields()},showInput:function(e){var t=this;this.inputVisible=!0,this.currentIndex=e,this.$nextTick(function(r){t.$refs["saveTagInput"+e].focus()})},addBrandById:function(e){var t,r=this;if(this.inputValue){var i={pid:e,name:this.inputValue};(t=i,u.a.post(v+"/category",t)).then(function(){r.$notify.success({title:"成功",message:"品牌添加成功",position:"bottom-right"}),window.sessionStorage.clear(),r.getAllCategoryList()}).catch(function(e){r.$notify.error({title:"错误",message:"品牌添加失败",position:"bottom-right"})})}this.inputVisible=!1,this.currentIndex=-1,this.inputValue=""}},mounted:function(){}},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",[r("el-row",[r("el-row",{attrs:{type:"flex",justify:"space-between"}},[r("el-row",[r("div")]),e._v(" "),r("el-row",{staticStyle:{width:"180px"}},[r("el-popover",{attrs:{placement:"left",width:"80px"},on:{hide:function(t){return e.formClose("addCategoryRef")},show:e.showFocus},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("el-form",{ref:"addCategoryRef",attrs:{model:e.addForm,rules:e.addCategoryFormRules},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{ref:"inputRef",staticClass:"input",attrs:{autofocus:"autofocus"},nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addCategory(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.preventDefault(),e.visible=!e.visible}]},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),e._v(" "),r("el-button",{attrs:{size:"mini",icon:"el-icon-close"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-check"},on:{click:e.addCategory}},[e._v("确定")]),e._v(" "),r("el-button",{attrs:{slot:"reference",type:"success",icon:"el-icon-plus"},slot:"reference"},[e._v("新增品类")])],1)],1)],1),e._v(" "),r("el-row",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",border:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"品类",prop:"Name",width:"200px"}}),e._v(" "),r("el-table-column",{attrs:{label:"品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-row",e._l(t.row.Category,function(t,i){return r("el-col",{key:i,attrs:{span:4}},[r("el-tag",{attrs:{size:"medium",hit:"",closable:""},on:{close:function(r){return e.deleteBrandById(t.Id)}}},[e._v(e._s(t.Name))])],1)}),1),e._v(" "),e.inputVisible&&e.currentIndex==t.$index?r("el-input",{ref:"saveTagInput"+t.$index,staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(r){return e.addBrandById(t.row.Id)}},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addBrandById(t.row.Id)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):r("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(r){return e.showInput(t.$index)}}},[e._v("+ 品牌")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除品类",placement:"top"}},[r("el-popconfirm",{attrs:{confirmButtonText:"确认",cancelButtonText:"取消",icon:"el-icon-info",iconColor:"red",title:"确认删除该分类吗?","popper-class":"popc"},on:{onConfirm:function(r){return e.deleteCategoryById(t.row.Id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",circle:"",icon:"el-icon-delete-solid"},slot:"reference"})],1)],1)]}}])})],1)],1)],1)],1)],1)},staticRenderFns:[]};var F=r("VU/8")(y,k,!1,function(e){r("1Jbc")},"data-v-0ea8d70d",null).exports,C=r("bOdI"),w=r.n(C),x=function(e){for(var t=0;t<e.length;t++){var r=JSON.parse(window.sessionStorage.getItem("key_"+e[t].Bid));e[t].Brand=r.brand,e[t].Category=r.category}return e},_=function(e){var t=new URLSearchParams;for(var r in e)t.append(r,e[r]);return t},S=function(e){if(null==e)return"";var t=new Date(e),r=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var o=t.getDate();return r+"-"+i+"-"+(o=o<10?"0"+o:o)},$=function(){var e=new Date,t=new Date(e),r=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),i=t.getDate()>9?t.getDate():"0"+t.getDate();return e=t.getFullYear()+"-"+r+"-"+i,new Date(e.replace(/-/g,"/"))};function D(e,t,r){""==t||void 0==t||null==t||0==t?r(new Error("请输入正确的进货价格")):/^[0-9]*[1-9][0-9]*$/.test(t)||""==t?r():r(new Error("请输入正确的进货价格"))}function V(e,t,r){0==t?r(new Error("新库存不能为0")):r()}function I(e,t,r){""==t||0==t?r(new Error("请输入正确的售价")):/^[0-9]*[1-9][0-9]*$/.test(t)||""==t?r():r(new Error("请输入正确的售价"))}var R=function(){var e;return e={session:[],searchForm:{keyword:"",time:[],checked:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=$(),r=$();r.setTime(r-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=$(),r=$();r.setTime(r-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=$(),r=$();r.setTime(r-7776e6),e.$emit("pick",[r,t])}}]}},restaurants:[],addValue:[],editValue:[],keyword:"",options:[],stockList:[],showAddFormDialogVisible:!1,addForm:{Provider:"",Date:"",Bid:"",Model:"",Price:"",Quantity:""},addFormPickerOptions:{disabledDate:function(e){return e.getTime()>$()-0},shortcuts:[{text:"前天",onClick:function(e){e.$emit("pick",$()-1728e5)}},{text:"昨天",onClick:function(e){e.$emit("pick",$()-864e5)}},{text:"今天",onClick:function(e){e.$emit("pick",$())}}]},addFormRules:{Provider:[{required:!0,message:"请输入供应商",trigger:"change"}],Date:[{required:!0,message:"请输入进货时间",trigger:"blur"}],date:[{required:!0,message:"请输入时间",trigger:"blur"}],Model:[{required:!0,message:"请输入型号",trigger:"blur"}],Price:[{required:!0,message:"请输入进货价格",trigger:"blur"},{validator:D,trigger:"blur"}],Quantity:[{required:!0,message:"请输入数量",trigger:"blur"},{validator:V,trigger:"blur"}],Inventory:[{required:!0,message:"请输入数量",trigger:"blur"}],Sell:[{required:!0,message:"请输入售价",trigger:"blur"},{validator:I,trigger:"blur"}],Shipper:[{required:!0,message:"请输入出货人",trigger:"blur"}],OutDate:[{required:!0,message:"请输入时间",trigger:"blur"}],outQuantity:[{required:!0,message:"请输入数量",trigger:"blur"}]},showEditFormDialogVisible:!1,editForm:{Id:"",Provider:"",Date:"",Bid:"",Model:"",Price:"",Quantity:"",Inventory:"",Brand:"",Category:"",EditNum:"",Remarks:""}},w()(e,"addFormPickerOptions",{disabledDate:function(e){return e.getTime()>$()-0},shortcuts:[{text:"前天",onClick:function(e){e.$emit("pick",$()-1728e5)}},{text:"昨天",onClick:function(e){e.$emit("pick",$()-864e5)}},{text:"今天",onClick:function(e){e.$emit("pick",$())}}]}),w()(e,"remarkForm",{Remarks:"",Id:""}),w()(e,"showRemarkDialogVisible",!1),w()(e,"saledFormDialogVisible",!1),w()(e,"saledForm",{Provider:"",Model:"",Price:"",Inventory:"",InDate:"",Sid:"",OutDate:"",Quantity:"",Shipper:"",Sell:""}),w()(e,"classification",""),w()(e,"pickerOptions",{shortcuts:[{text:"前天",onClick:function(e){e.$emit("pick",$()-1728e5)}},{text:"昨天",onClick:function(e){e.$emit("pick",$()-864e5)}},{text:"今天",onClick:function(e){e.$emit("pick",$())}},{text:"明天",onClick:function(e){e.$emit("pick",$()-0+864e5)}},{text:"后天",onClick:function(e){e.$emit("pick",$()-0+1728e5)}}]}),w()(e,"loading",!0),e},P=r("woOf"),L=r.n(P),O={data:function(){return R()},created:function(){this.getList()},methods:{getList:function(){var e,t=this;0==window.sessionStorage.length&&this.$router.push({path:"/category"}),this.loading=!0,u.a.get(v+"/stock",e).then(function(e){t.stockList=x(e.data),t.options=JSON.parse(window.sessionStorage.getItem("pickValue")),t.loading=!1,t.stockList.length>100&&t.$notify({title:"警告",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"})})},search:function(){var e=this;this.loading=!0,null==this.searchForm.time&&(this.searchForm.time=[]);var t,r={provider:this.searchForm.keyword,begin:this.searchForm.time[0],end:this.searchForm.time[1],all:this.searchForm.checked};(t=r,u.a.get(v+"/stock",{params:t})).then(function(t){e.stockList=x(t.data),e.loading=!1}).catch(function(e){console.log(e.response)})},addStock:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var r=L()(e.addForm);console.log(r.Bid),r.Price=parseFloat(e.addForm.Price),(i=r,u.a.post(v+"/stock",i)).then(function(t){e.addValue=[],e.$notify.success({title:"成功",message:"入库成功",position:"bottom-right"}),window.sessionStorage.removeItem("stockValue"),e.getProvider(),e.getList(),e.showAddFormDialogVisible=!1})}var i})},addChangeRef:function(){var e=this.$refs.cascader.getCheckedNodes()[0].data.Id;this.addForm.Bid=e},addRemark:function(e){var t=this;this.remarkForm.Remarks=e.Remarks,this.remarkForm.Id=e.Id;var r,i,o={remarks:this.remarkForm.Remarks};(r=this.remarkForm.Id,i=_(o),u.a.put(v+"/stock/"+r+"/remarks",i)).then(function(){t.getList(),t.$notify.success({title:"成功",message:"备注添加成功",position:"bottom-right"})}).catch(function(e){console.log(e.response)})},showDditForm:function(e){this.editForm=L()({},e),this.editValue=[e.Category,e.Brand],this.editForm.Id=e.Id,this.editForm.EditNum=e.Quantity-e.Inventory,this.showEditFormDialogVisible=!0},changePrice:function(){this.$notify({title:"警告",message:"修改价格需要重新计算利润",position:"bottom-right",type:"warning"})},editChangeRef:function(){var e=this.$refs.editCascader.getCheckedNodes()[0].data.Id;this.editForm.Bid=e},editFormHandler:function(){var e=this;this.$refs.editForm.validate(function(t){if(t){var r=L()({},e.editForm);r.Price=parseFloat(e.editForm.Price),(i=e.editForm.Id,o=_(r),u.a.put(v+"/stock/"+i,o)).then(function(t){e.$notify.success({title:"成功",message:"修改成功",position:"bottom-right"}),window.sessionStorage.removeItem("stockValue"),e.getProvider(),e.getList(),e.showEditFormDialogVisible=!1})}var i,o})},showSaled:function(e){this.saledForm=L()({},e),this.classification=e.Category+" / "+e.Brand,this.saledForm.Sid=e.Id,this.saledForm.Quantity=0,this.saledFormDialogVisible=!0},Saled:function(){var e=this;this.saledForm.Date>this.saledForm.OutDate&&null!=this.saledForm.OutDate?this.$notify.error({title:"错误",message:"出库时间不能早于入库时间",position:"bottom-right"}):this.$refs.saledForm.validate(function(t){if(t){var r=L()(e.saledForm);r.Price=parseFloat(e.saledForm.Sell),r.Date=e.saledForm.OutDate,(i=r,u.a.post(v+"/saled",i)).then(function(){e.saledFormDialogVisible=!1,e.getList(),e.$notify.success({title:"成功",message:"出库成功",position:"bottom-right"})})}else console.log("出库信息验证未通过");var i})},tableRowClassName:function(e){return 0==e.row.Inventory?"over":""},deleteStock:function(e){var t=this;(function(e){return u.a.delete(v+"/stock/"+e)})(e).then(function(e){t.getList(),t.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"})})},dataFormatter:function(e,t,r,i){return S(r)},formClose:function(e){"addForm"===e&&(this.addValue=[]),"searchRef"===e&&(this.searchForm.checked=!1,this.getList()),void 0!==this.$refs[e]&&this.$refs[e].resetFields()},querySearch:function(e,t){var r=this.restaurants;t(e?r.filter(this.createFilter(e)):r)},createFilter:function(e){return function(t){return 0===t.stockValue.toLowerCase().indexOf(e.toLowerCase())}},getProvider:function(){var e=this;null==window.sessionStorage.getItem("stockValue")?u.a.get(v+"/stock/provider").then(function(t){if(null==t.data)return e.$notify({title:"警告",message:"没有供货商数据可查询",type:"warning",position:"bottom-right"}),"";for(var r=t.data,i=[],o=0;o<r.length;o++)i.push({stockValue:r[o]});window.sessionStorage.setItem("stockValue",d()(i)),e.restaurants=i}):this.restaurants=JSON.parse(window.sessionStorage.getItem("stockValue"))},handleSelect:function(e){this.searchForm.keyword=e.stockValue,this.search()},addSelect:function(e){this.addForm.Provider=e.stockValue},editSelect:function(e){this.editForm.Provider=e.stockValue}},mounted:function(){}},M={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",{staticStyle:{"margin-bottom":"5px",height:"70px"}},[r("el-row",{attrs:{gutter:20,type:"flex",justify:"space-around"}},[r("el-col",{staticStyle:{padding:"0px"}},[r("el-form",{ref:"searchRef",staticClass:"form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"70px"}},[r("el-form-item",{attrs:{prop:"time",label:"进货时间"}},[r("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","unlink-panels":"","picker-options":e.searchForm.pickerOptions},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"供货商",prop:"keyword"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入供货商","value-key":"stockValue",clearable:""},on:{focus:e.getProvider,select:e.handleSelect,input:e.search},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1),e._v(" "),r("el-checkbox",{on:{change:e.search},model:{value:e.searchForm.checked,callback:function(t){e.$set(e.searchForm,"checked",t)},expression:"searchForm.checked"}},[e._v("全部库存")]),e._v(" "),r("el-button",{staticStyle:{margin:"0px 6px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(t){return e.formClose("searchRef")}}},[e._v("重置")])],1)],1),e._v(" "),r("el-col",{staticStyle:{width:"160px",padding:"10px"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){e.showAddFormDialogVisible=!0}}},[e._v("新增库存")])],1)],1)],1),e._v(" "),r("el-card",[r("el-row",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.stockList,border:"","row-class-name":e.tableRowClassName,height:"850px","default-sort":{prop:"Date",order:"descending"}}},[r("el-table-column",{attrs:{prop:"Provider",label:"供货商",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Date",label:"进货时间",align:"center",formatter:e.dataFormatter,"min-width":"95px",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"Category",label:"品类",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Brand",label:"品牌",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Price",label:"进货价格",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Quantity",label:"此单总量",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Inventory",label:"库存余量",align:"center"}}),e._v(" "),r("el-table-column",{staticClass:"remark",attrs:{prop:"Remarks",label:"备注","min-width":"200px",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{width:"220px",scope:"",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[r("el-button",{staticClass:"operation",attrs:{icon:"el-icon-setting",type:"primary",circle:""},on:{click:function(r){return e.showDditForm(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"出库",placement:"top",enterable:!1}},[r("el-button",{staticClass:"operation",attrs:{icon:"el-icon-s-promotion",type:"success",circle:"",disabled:0==t.row.Inventory},on:{click:function(r){return e.showSaled(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除库存",placement:"top",enterable:!1}},[r("el-popconfirm",{staticClass:"operation",attrs:{confirmButtonText:"确认",cancelButtonText:"取消",icon:"el-icon-delete-solid",iconColor:"red",title:"确认删除该库存吗?"},on:{onConfirm:function(r){return e.deleteStock(t.row.Id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",circle:"",icon:"el-icon-delete-solid",size:"small"},slot:"reference"})],1)],1)]}}])})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增库存",visible:e.showAddFormDialogVisible,width:"800px"},on:{"update:visible":function(t){e.showAddFormDialogVisible=t},close:function(t){return e.formClose("addForm")}}},[r("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"130px",rules:e.addFormRules,inline:!0}},[r("el-form-item",{attrs:{label:"供货商",prop:"Provider"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入供货商","value-key":"stockValue"},on:{focus:e.getProvider,select:e.addSelect},model:{value:e.addForm.Provider,callback:function(t){e.$set(e.addForm,"Provider",t)},expression:"addForm.Provider"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货时间",prop:"Date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.addFormPickerOptions},model:{value:e.addForm.Date,callback:function(t){e.$set(e.addForm,"Date",t)},expression:"addForm.Date"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"品类"}},[r("el-cascader",{ref:"cascader",attrs:{options:e.options,props:{value:"Name",label:"Name",children:"Category",expandTrigger:"hover"}},on:{change:e.addChangeRef},model:{value:e.addValue,callback:function(t){e.addValue=t},expression:"addValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.addForm.Model,callback:function(t){e.$set(e.addForm,"Model",t)},expression:"addForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货价格(元)",prop:"Price"}},[r("el-input",{model:{value:e.addForm.Price,callback:function(t){e.$set(e.addForm,"Price",t)},expression:"addForm.Price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"此单总量(件)",prop:"Quantity"}},[r("el-input-number",{attrs:{label:"描述文字",min:0,precision:0,"controls-position":"right"},model:{value:e.addForm.Quantity,callback:function(t){e.$set(e.addForm,"Quantity",t)},expression:"addForm.Quantity"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.showAddFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.addStock}},[e._v("确定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改库存",visible:e.showEditFormDialogVisible,width:"800px"},on:{"update:visible":function(t){e.showEditFormDialogVisible=t},close:function(t){return e.formClose("editForm")}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"130px",rules:e.addFormRules,inline:!0}},[r("el-form-item",{attrs:{label:"供应商",prop:"Provider"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入供货商","value-key":"stockValue"},on:{focus:e.getProvider,select:e.editSelect},model:{value:e.editForm.Provider,callback:function(t){e.$set(e.editForm,"Provider",t)},expression:"editForm.Provider"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货时间",prop:"Date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.addFormPickerOptions},model:{value:e.editForm.Date,callback:function(t){e.$set(e.editForm,"Date",t)},expression:"editForm.Date"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"品类"}},[r("el-cascader",{ref:"editCascader",attrs:{options:e.options,props:{value:"Name",label:"Name",children:"Category",expandTrigger:"hover"}},on:{change:e.editChangeRef},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.editForm.Model,callback:function(t){e.$set(e.editForm,"Model",t)},expression:"editForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货价格(元)",prop:"Price"}},[r("el-input",{model:{value:e.editForm.Price,callback:function(t){e.$set(e.editForm,"Price",t)},expression:"editForm.Price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"此单总量(件)",prop:"Quantity"}},[r("el-input-number",{attrs:{label:"描述文字",min:0,precision:0,"controls-position":"right"},model:{value:e.editForm.Quantity,callback:function(t){e.$set(e.editForm,"Quantity",t)},expression:"editForm.Quantity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"已销售数量(件)",prop:"EditNum"}},[r("el-input",{attrs:{label:"描述文字",disabled:""},model:{value:e.editForm.EditNum,callback:function(t){e.$set(e.editForm,"EditNum",t)},expression:"editForm.EditNum"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[r("el-input",{staticStyle:{width:"220px"},attrs:{label:"描述文字",type:"textarea",autosize:""},model:{value:e.editForm.Remarks,callback:function(t){e.$set(e.editForm,"Remarks",t)},expression:"editForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.showEditFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.editFormHandler}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"出库",visible:e.saledFormDialogVisible,width:"800px"},on:{"update:visible":function(t){e.saledFormDialogVisible=t},close:function(t){return e.formClose("saledForm")}}},[r("el-form",{ref:"saledForm",attrs:{model:e.saledForm,"label-width":"130px",rules:e.addFormRules,inline:!0}},[r("el-form-item",{attrs:{label:"供应商"}},[r("el-input",{attrs:{disabled:""},model:{value:e.saledForm.Provider,callback:function(t){e.$set(e.saledForm,"Provider",t)},expression:"saledForm.Provider"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"品类"}},[r("el-input",{attrs:{disabled:""},model:{value:e.classification,callback:function(t){e.classification=t},expression:"classification"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号"}},[r("el-input",{attrs:{disabled:""},model:{value:e.saledForm.Model,callback:function(t){e.$set(e.saledForm,"Model",t)},expression:"saledForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"入库时间"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp",disabled:""},model:{value:e.saledForm.Date,callback:function(t){e.$set(e.saledForm,"Date",t)},expression:"saledForm.Date"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"此单库存(件)"}},[r("el-input",{attrs:{disabled:""},model:{value:e.saledForm.Inventory,callback:function(t){e.$set(e.saledForm,"Inventory",t)},expression:"saledForm.Inventory"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货价格(元)"}},[r("el-input",{attrs:{disabled:""},model:{value:e.saledForm.Price,callback:function(t){e.$set(e.saledForm,"Price",t)},expression:"saledForm.Price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出货人",prop:"Shipper"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.saledForm.Shipper,callback:function(t){e.$set(e.saledForm,"Shipper",t)},expression:"saledForm.Shipper"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出库时间",prop:"OutDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.saledForm.OutDate,callback:function(t){e.$set(e.saledForm,"OutDate",t)},expression:"saledForm.OutDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出库数量(件)",prop:"Quantity"}},[r("el-input-number",{attrs:{label:"描述文字",min:0,precision:0,"controls-position":"right"},model:{value:e.saledForm.Quantity,callback:function(t){e.$set(e.saledForm,"Quantity",t)},expression:"saledForm.Quantity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"售价(元)",prop:"Sell"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.saledForm.Sell,callback:function(t){e.$set(e.saledForm,"Sell",t)},expression:"saledForm.Sell"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.saledFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.Saled}},[e._v("确认")])],1)],1)],1)},staticRenderFns:[]};var E=r("VU/8")(O,M,!1,function(e){r("Osx0")},"data-v-39cde1df",null).exports,N=function(){return{_tableHeight:800,saledList:[],date:"",addFormRules:{name:[{required:!0,message:"请输入供应商",trigger:"blur"}],cate:[{required:!0,message:"请输入品类",trigger:"blur"}],brand:[{required:!0,message:"请输入品牌",trigger:"blur"}],mod:[{required:!0,message:"请输入型号",trigger:"blur"}],price:[{required:!0,message:"请输入进货价格",trigger:"blur"}],num:[{required:!0,message:"请输入数量",trigger:"blur"}]},showRemarkFormDialogVisible:!1,remarkForm:{Remarks:"",Id:""},searchForm:{shipper:"",time:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=$(),r=$();r.setTime(r-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=$(),r=$();r.setTime(r-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=$(),r=$();r.setTime(r-7776e6),e.$emit("pick",[r,t])}}]}},restaurants:[],limit:20,last:"",loading:!1}},j={getSaledList:function(){var e=this;this.loading=!0,this.saledList.length>100&&this.$notify({title:"警告",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"});var t,r={last:this.last,limit:this.limit,shipper:this.searchForm.shipper};void 0!==this.searchForm.time[0]&&(r.begin=this.searchForm.time[0],r.end=this.searchForm.time[1]),(t=r,u.a.get(v+"/saled",{params:t})).then(function(t){e.loading=!1,e.saledList=e.saledList.concat(x(t.data)),e.last=e.saledList[e.saledList.length-1].OutDate}).catch(function(t){e.loading=!1})},search:function(){null==this.searchForm.time&&(this.searchForm.time=[]),this.last="",this.saledList.length=0,this.getSaledList()},querySearch:function(e,t){var r=this.restaurants;t(e?r.filter(this.createFilter(e)):r)},createFilter:function(e){return function(t){return 0===t.saledValue.toLowerCase().indexOf(e.toLowerCase())}},getShipper:function(){var e=this;null==window.sessionStorage.getItem("saledValue")?u.a.get(v+"/saled/shipper").then(function(t){if(null==t.data)return e.$notify({title:"警告",message:"没有出货人数据可查询",type:"warning",position:"bottom-right"}),"";for(var r=t.data,i=[],o=0;o<r.length;o++)i.push({saledValue:r[o]});window.sessionStorage.setItem("saledValue",d()(i)),e.restaurants=i}):this.restaurants=JSON.parse(window.sessionStorage.getItem("saledValue"))},searchSelect:function(e){this.searchForm.shipper=e.saledValue,this.search()},addRemark:function(e){var t=this;this.remarkForm.Remarks=e.Remarks,this.remarkForm.Id=e.Id;var r,i,o={remarks:this.remarkForm.Remarks};(r=this.remarkForm.Id,i=_(o),u.a.put(v+"/saled/"+r+"/remarks",i)).then(function(){t.getSaledList(),t.$notify.success({title:"成功",message:"备注添加成功",position:"bottom-right"})})},formClose:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields(),"searchRef"==e&&(this.last="",this.saledList.length=0,this.getSaledList())},dataFormatter:function(e,t,r,i){return S(r)}},B=r("CDzj"),q={data:function(){return N()},created:function(){this._tableHeight=document.documentElement.clientHeight-100},methods:j,mounted:function(){var e=this;window.onresize=function(){e._tableHeight=document.documentElement.clientHeight-100}},directives:{"el-table-infinite-scroll":B.a}},T={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticStyle:{height:"100%",overflow:"hidden"}},[r("el-card",{staticStyle:{"margin-bottom":"5px",height:"70px"}},[r("el-row",{staticStyle:{"margin-bottom":"20px","padding-left":"20px"},attrs:{gutter:20}},[r("el-form",{ref:"searchRef",staticClass:"form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"70px"}},[r("el-form-item",{attrs:{prop:"time",label:"入库日期"}},[r("el-date-picker",{staticStyle:{width:"260px"},attrs:{"unlink-panels":"","value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.searchForm.pickerOptions},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入出货人","value-key":"saledValue",clearable:""},on:{focus:e.getShipper,select:e.searchSelect,input:e.search},model:{value:e.searchForm.shipper,callback:function(t){e.$set(e.searchForm,"shipper",t)},expression:"searchForm.shipper"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(t){return e.formClose("searchRef")}}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-card",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"el-table-infinite-scroll",rawName:"v-el-table-infinite-scroll",value:e.getSaledList,expression:"getSaledList"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.saledList,border:"",stripe:"",height:e._tableHeight,"default-sort":{prop:"OutDate",order:"descending"}}},[r("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"OutDate",label:"入库日期",align:"center",formatter:e.dataFormatter,"min-width":"100px",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"Provider",label:"供应商",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"InDate",label:"进货日期",align:"center",formatter:e.dataFormatter,"min-width":"100px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Category",label:"品类",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Brand",label:"品牌",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"InPrice",label:"进货价格",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"OutPrice",label:"出货价格",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Quantity",label:"数量",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Profit",label:"利润",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticClass:"in",staticStyle:{height:"40px"},attrs:{autosize:"",type:"textarea"},on:{change:function(r){return e.addRemark(t.row)}},model:{value:t.row.Remarks,callback:function(r){e.$set(t.row,"Remarks",r)},expression:"scope.row.Remarks"}})]}}])})],1)],1)],1)},staticRenderFns:[]};var A=r("VU/8")(q,T,!1,function(e){r("ZnQw")},"data-v-7e07202a",null).exports,Q=function(){return{customerList:[],showRemarkFormDialogVisible:!1,remarkForm:{Remarks:"",Id:""},searchForm:{shipper:"",time:[],checked:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=$(),r=$();r.setTime(r-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=$(),r=$();r.setTime(r-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=$(),r=$();r.setTime(r-7776e6),e.$emit("pick",[r,t])}}]}},restaurants:[],show:!1,customerFormDialogVisible:!1,addCustomerForm:{Shipper:"",Model:"",Name:"",Phone:"",Address:"",SaleDate:"",DeliveryDate:"",Remarks:"",Status:1},issuingTimePickerOptions:{disabledDate:function(e){return e.getTime()>$()-0},shortcuts:[{text:"前天",onClick:function(e){e.$emit("pick",$()-1728e5)}},{text:"昨天",onClick:function(e){e.$emit("pick",$()-864e5)}},{text:"今天",onClick:function(e){e.$emit("pick",$())}}]},deliveryTimePickerOptions:{shortcuts:[{text:"前天",onClick:function(e){e.$emit("pick",$()-1728e5)}},{text:"昨天",onClick:function(e){e.$emit("pick",$()-864e5)}},{text:"今天",onClick:function(e){e.$emit("pick",$())}},{text:"明天",onClick:function(e){e.$emit("pick",$()-0+864e5)}},{text:"后天",onClick:function(e){e.$emit("pick",$()-0+1728e5)}}]},editCustomerFormDialogVisible:!1,editCustomerForm:{Id:"",Shipper:"",Model:"",Name:"",Phone:"",Address:"",SaleDate:"",DeliveryDate:"",Remarks:"",Status:""},formRules:{Shipper:[{required:!0,message:"请输入出货人",trigger:"change"}],Model:[{required:!0,message:"请输入型号",trigger:"blur"}],Name:[{required:!0,message:"请输入顾客",trigger:"blur"}],Phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}],Address:[{required:!0,message:"请输入收货地址",trigger:"blur"}],SaleDate:[{required:!0,message:"请输入出单时间",trigger:"blur"}],DeliveryDate:[{required:!0,message:"请输入送货时间",trigger:"blur"}]},outVisible:!1,showFastEditStockVisible:!1,loading:!1}},z=function(e,t){return u.a.put(v+"/customer/"+e,t)},U={data:function(){return Q()},created:function(){this.getCustomerList()},methods:{getCustomerList:function(){var e=this;this.loading=!0,u.a.get(v+"/customer").then(function(t){e.customerList=t.data,e.loading=!1})},checkCustomerList:function(e){return e.length>100&&this.$notify({title:"成功",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"}),e},search:function(){var e=this;null==this.searchForm.time&&(this.searchForm.time=[]);var t,r={shipper:this.searchForm.shipper,begin:this.searchForm.time[0],end:this.searchForm.time[1],all:this.searchForm.checked};this.loading=!0,(t=r,u.a.get(v+"/customer",{params:t})).then(function(t){e.customerList=t.data,e.show=!0,e.loading=!1})},querySearch:function(e,t){var r=this.restaurants;t(e?r.filter(this.createFilter(e)):r)},createFilter:function(e){return function(t){return 0===t.customerValue.toLowerCase().indexOf(e.toLowerCase())}},getShipper:function(){var e=this;null==window.sessionStorage.getItem("customerValue")?u.a.get(v+"/customer/shipper").then(function(t){if(null==t.data)return e.$notify({title:"警告",message:"没有出货人数据可查询",type:"warning",position:"bottom-right"}),"";for(var r=t.data,i=[],o=0;o<r.length;o++)i.push({customerValue:r[o]});window.sessionStorage.setItem("customerValue",d()(i)),e.restaurants=i}):this.restaurants=JSON.parse(window.sessionStorage.getItem("customerValue"))},searchSelect:function(e){this.searchForm.shipper=e.customerValue,this.search()},addSelect:function(e){this.addCustomerForm.Shipper=e.customerValue},editSelect:function(e){this.editCustomerForm.Shipper=e.customerValue},showCustomer:function(){var e=this;this.customerFormDialogVisible=!0,this.$refs.addCustomerForm.validate(function(t){if(e.addCustomerForm.DeliveryDate<e.addCustomerForm.SaleDate)e.$notify.error({title:"错误",message:"送货时间晚于出单时间",position:"bottom-right"});else if(t){var r=L()(e.addCustomerForm);(i=r,u.a.post(v+"/customer",i)).then(function(t){window.sessionStorage.removeItem("customerValue"),e.getShipper(),e.getCustomerList(),e.customerFormDialogVisible=!1,e.$notify.success({title:"成功",message:"客户信息录入成功",position:"bottom-right"})})}else console.log("验证不通过");var i})},showEditForm:function(e){this.editCustomerFormDialogVisible=!0,this.editCustomerForm=L()({},e),1==e.Status?this.editCustomerForm.Status=!1:this.editCustomerForm.Status=!0},editForm:function(){var e=this;if(this.editCustomerForm.DeliveryDate<this.editCustomerForm.SaleDate)return this.$notify.error({title:"错误",message:"送货时间晚于出单时间",position:"bottom-right"}),"";this.editCustomerForm.Status?this.editCustomerForm.Status=0:this.editCustomerForm.Status=1;var t=L()({},this.editCustomerForm);z(this.editCustomerForm.Id,t).then(function(t){window.sessionStorage.removeItem("customerValue"),e.getShipper(),e.getCustomerList(),e.editCustomerFormDialogVisible=!1,e.$notify.success({title:"成功",message:"客户信息修改成功",position:"bottom-right"})})},addRemark:function(e){var t=this;this.remarkForm.Remarks=e.Remarks,this.remarkForm.Id=e.Id;var r,i,o={remarks:this.remarkForm.Remarks};(r=this.remarkForm.Id,i=_(o),u.a.put(v+"/customer/"+r+"/remarks",i)).then(function(e){t.getCustomerList(),t.showRemarkFormDialogVisible=!1,t.$notify.success({title:"成功",message:"修改备注成功",position:"bottom-right"})})},deleteCustomer:function(e){var t=this;this.$confirm("确认删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete("http://localhost/customer/"+e).then(function(e){t.getCustomerList(),t.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"})})})},tableRowClassName:function(e){return 0==e.row.Status?"over":""},print:function(){this.outVisible=!0},formClose:function(e){"searchRef"==e&&(this.searchForm.checked=!1,this.show=!1,this.getCustomerList()),void 0!==this.$refs[e]&&this.$refs[e].resetFields()},showFastEditStock:function(e){this.showFastEditStockVisible=!0,this.editCustomerForm=L()({},e)},fastEditStock:function(){var e=this;this.editCustomerForm.Status=0;var t=L()({},this.editCustomerForm);z(this.editCustomerForm.Id,t).then(function(t){e.getCustomerList(),e.showFastEditStockVisible=!1,e.$notify.success({title:"成功",message:"出库成功",position:"bottom-right"})})},dataFormatter:function(e,t,r,i){return S(r)},dataForma:function(e){return S(e)}}},H={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",{staticStyle:{"margin-bottom":"5px",height:"70px"}},[r("el-row",{attrs:{gutter:20,type:"flex",justify:"space-around"}},[r("el-col",{staticStyle:{padding:"0px"}},[r("el-form",{ref:"searchRef",staticClass:"form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"70px"}},[r("el-form-item",{attrs:{prop:"time",label:"送货日期"}},[r("el-date-picker",{staticStyle:{width:"260px"},attrs:{"unlink-panels":"","value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.searchForm.pickerOptions},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[r("el-autocomplete",{staticClass:"inputShipper",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入出货人","value-key":"customerValue",clearable:""},on:{focus:e.getShipper,select:e.searchSelect,input:e.search},model:{value:e.searchForm.shipper,callback:function(t){e.$set(e.searchForm,"shipper",t)},expression:"searchForm.shipper"}})],1),e._v(" "),r("el-checkbox",{on:{change:e.search},model:{value:e.searchForm.checked,callback:function(t){e.$set(e.searchForm,"checked",t)},expression:"searchForm.checked"}},[e._v("全部客户")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:function(t){return e.formClose("searchRef")}}},[e._v("重置")])],1)],1),e._v(" "),r("el-col",{staticClass:"btns",staticStyle:{width:"355px",padding:"0px","padding-top":"10px",margin:"0px"},attrs:{type:"flex",justify:"end"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:function(t){e.customerFormDialogVisible=!0}}},[e._v("新增顾客")]),e._v(" "),r("el-button",{staticClass:"printButton",attrs:{type:"info",icon:"el-icon-printer"},on:{click:e.print}},[e._v("打印预览")])],1)],1)],1),e._v(" "),r("el-card",[r("el-row",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.customerList,border:"","row-class-name":e.tableRowClassName,height:"850px","default-sort":{prop:"DeliveryDate",order:"descending"}}},[r("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center","min-width":"80px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"DeliveryDate",label:"送货日期",align:"center",formatter:e.dataFormatter,"min-width":"110px",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center","min-width":"80px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"SaleDate",label:"出单日期",align:"center",formatter:e.dataFormatter,"min-width":"110px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Name",label:"顾客姓名",align:"center","min-width":"80px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Phone",label:"联系电话",align:"center","min-width":"130px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Status",label:"状态",align:"center","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v("\n\t\t\t\t\t\t\t"+e._s(1==t.row.Status?"未送货":"已送货")+"\n\t\t\t\t\t\t")])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"Address",label:"送货地址",align:"center","min-width":"160px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center","min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{staticClass:"in",attrs:{autosize:"",type:"textarea"},on:{change:function(r){return e.addRemark(t.row)}},model:{value:t.row.Remarks,callback:function(r){e.$set(t.row,"Remarks",r)},expression:"scope.row.Remarks"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{scope:"",align:"center",label:"操作","min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[r("el-button",{staticClass:"operation",attrs:{icon:"el-icon-setting",type:"primary",circle:""},on:{click:function(r){return e.showEditForm(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"送货状态修改",placement:"top",enterable:!1}},[r("el-button",{staticClass:"operation",attrs:{icon:"el-icon-s-goods",type:"success",circle:"",disabled:0==t.row.Status},on:{click:function(r){return e.showFastEditStock(t.row)}}})],1)]}}])})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"顾客信息",visible:e.customerFormDialogVisible,width:"800px"},on:{"update:visible":function(t){e.customerFormDialogVisible=t},close:function(t){return e.formClose("addCustomerForm")}}},[r("el-form",{ref:"addCustomerForm",attrs:{model:e.addCustomerForm,"label-width":"130px",rules:e.formRules,inline:!0}},[r("el-form-item",{attrs:{label:"出货人",prop:"Shipper"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入出货人","value-key":"customerValue"},on:{focus:e.getShipper,select:e.addSelect},model:{value:e.addCustomerForm.Shipper,callback:function(t){e.$set(e.addCustomerForm,"Shipper",t)},expression:"addCustomerForm.Shipper"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.addCustomerForm.Model,callback:function(t){e.$set(e.addCustomerForm,"Model",t)},expression:"addCustomerForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"顾客姓名",prop:"Name"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.addCustomerForm.Name,callback:function(t){e.$set(e.addCustomerForm,"Name",t)},expression:"addCustomerForm.Name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.addCustomerForm.Phone,callback:function(t){e.$set(e.addCustomerForm,"Phone",t)},expression:"addCustomerForm.Phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货地址",prop:"Address"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.addCustomerForm.Address,callback:function(t){e.$set(e.addCustomerForm,"Address",t)},expression:"addCustomerForm.Address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出单时间",prop:"SaleDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.issuingTimePickerOptions},model:{value:e.addCustomerForm.SaleDate,callback:function(t){e.$set(e.addCustomerForm,"SaleDate",t)},expression:"addCustomerForm.SaleDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"送货时间",prop:"DeliveryDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.deliveryTimePickerOptions},model:{value:e.addCustomerForm.DeliveryDate,callback:function(t){e.$set(e.addCustomerForm,"DeliveryDate",t)},expression:"addCustomerForm.DeliveryDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注 : ",prop:"Remarks"}},[r("el-input",{staticStyle:{width:"220px"},attrs:{type:"textarea",autosize:"",label:"描述文字"},model:{value:e.addCustomerForm.Remarks,callback:function(t){e.$set(e.addCustomerForm,"Remarks",t)},expression:"addCustomerForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.customerFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.showCustomer}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改顾客信息",visible:e.editCustomerFormDialogVisible,width:"800px"},on:{"update:visible":function(t){e.editCustomerFormDialogVisible=t},close:function(t){return e.formClose("editCustomerForm")}}},[r("el-form",{ref:"editCustomerForm",attrs:{model:e.editCustomerForm,"label-width":"130px",rules:e.formRules,inline:!0}},[r("el-form-item",{attrs:{label:"出货人",prop:"Shipper"}},[r("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入出货人","value-key":"customerValue"},on:{focus:e.getShipper,select:e.editSelect},model:{value:e.editCustomerForm.Shipper,callback:function(t){e.$set(e.editCustomerForm,"Shipper",t)},expression:"editCustomerForm.Shipper"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.editCustomerForm.Model,callback:function(t){e.$set(e.editCustomerForm,"Model",t)},expression:"editCustomerForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"顾客姓名",prop:"Name",rules:[{required:!0,message:"请输入顾客姓名"}]}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Name,callback:function(t){e.$set(e.editCustomerForm,"Name",t)},expression:"editCustomerForm.Name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Phone,callback:function(t){e.$set(e.editCustomerForm,"Phone",t)},expression:"editCustomerForm.Phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货地址",prop:"Address"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Address,callback:function(t){e.$set(e.editCustomerForm,"Address",t)},expression:"editCustomerForm.Address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出单时间",prop:"SaleDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.issuingTimePickerOptions},model:{value:e.editCustomerForm.SaleDate,callback:function(t){e.$set(e.editCustomerForm,"SaleDate",t)},expression:"editCustomerForm.SaleDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"送货时间",prop:"DeliveryDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.deliveryTimePickerOptions},model:{value:e.editCustomerForm.DeliveryDate,callback:function(t){e.$set(e.editCustomerForm,"DeliveryDate",t)},expression:"editCustomerForm.DeliveryDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"Status"}},[r("div",[r("el-checkbox",{attrs:{border:"",label:"已送货"},model:{value:e.editCustomerForm.Status,callback:function(t){e.$set(e.editCustomerForm,"Status",t)},expression:"editCustomerForm.Status"}})],1)]),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[r("el-input",{staticStyle:{width:"220px"},attrs:{type:"textarea",label:"描述文字",autosize:""},model:{value:e.editCustomerForm.Remarks,callback:function(t){e.$set(e.editCustomerForm,"Remarks",t)},expression:"editCustomerForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.editCustomerFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.editForm}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改送货状态",visible:e.showFastEditStockVisible,width:"500px"},on:{"update:visible":function(t){e.showFastEditStockVisible=t},close:function(t){return e.formClose("sendCustomerForm")}}},[r("el-form",{ref:"sendCustomerForm",attrs:{model:e.editCustomerForm,"label-width":"160px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"送货时间",prop:"DeliveryDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp","picker-options":e.deliveryTimePickerOptions},model:{value:e.editCustomerForm.DeliveryDate,callback:function(t){e.$set(e.editCustomerForm,"DeliveryDate",t)},expression:"editCustomerForm.DeliveryDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态",prop:"Status"}},[r("div",[r("el-checkbox",{attrs:{border:"",label:"已送货"},on:{change:e.fastEditStock},model:{value:e.editCustomerForm.Status,callback:function(t){e.$set(e.editCustomerForm,"Status",t)},expression:"editCustomerForm.Status"}})],1)])],1)],1),e._v(" "),r("el-dialog",{staticClass:"print",attrs:{title:"打印预览",visible:e.outVisible,width:"1086px"},on:{"update:visible":function(t){e.outVisible=t}}},[r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-bottom":"15px"}},[1==e.show&&1==e.searchForm.checked?r("h2",{staticStyle:{color:"red"}},[e._v("\n\t\t\t\t包含已送货的客户信息\n\t\t\t")]):e._e(),e._v(" "),r("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[r("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.outVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{directives:[{name:"print",rawName:"v-print",value:"#print",expression:"'#print'"}],staticClass:"printButton",attrs:{type:"info",icon:"el-icon-check"},on:{click:e.print}},[e._v("打印")])],1)]),e._v(" "),r("div",{attrs:{id:"print"}},[r("table",{attrs:{width:"100%",height:"100%",border:"1px solid black"}},[r("thead",[r("tr",[r("td",[e._v("出货人")]),e._v(" "),r("td",[e._v("出单日期")]),e._v(" "),r("td",[e._v("送货日期")]),e._v(" "),r("td",[e._v("顾客姓名")]),e._v(" "),r("td",[e._v("联系电话")]),e._v(" "),r("td",[e._v("型号")]),e._v(" "),r("td",[e._v("送货地址")]),e._v(" "),r("td",[e._v("备注")])])]),e._v(" "),e._l(e.customerList,function(t){return r("tr",{key:t.id},[r("td",{staticClass:"printOhter"},[e._v(e._s(t.Shipper))]),e._v(" "),r("td",{staticClass:"printOhter"},[e._v("\n\t\t\t\t\t\t"+e._s(e.dataForma(t.SaleDate))+"\n\t\t\t\t\t")]),e._v(" "),r("td",{staticClass:"printOhter"},[e._v("\n\t\t\t\t\t\t"+e._s(e.dataForma(t.DeliveryDate))+"\n\t\t\t\t\t")]),e._v(" "),r("td",{staticClass:"printOhter"},[e._v(e._s(t.Name))]),e._v(" "),r("td",{staticClass:"printOhter"},[e._v(e._s(t.Phone))]),e._v(" "),r("td",{staticClass:"printModel"},[e._v(e._s(t.Model))]),e._v(" "),r("td",{staticClass:"printAddress"},[e._v(e._s(t.Address))]),e._v(" "),r("td",{staticClass:"printRemarks"},[e._v(e._s(t.Remarks))])])})],2)])])],1)},staticRenderFns:[]};var G=r("VU/8")(U,H,!1,function(e){r("w6MO")},"data-v-50040df5",null).exports,J=function(){return{}},W=(r("YW59"),{created:function(){},data:function(){return J()},methods:{refrigeratorInventory:function(){var e=this,t=this.$echarts.init(document.getElementById("refrigeratorInventory"));u.a.get("/getRefrigeratorInventory").then(function(r){var i=r.data.refrigerator,o=e.ringSetConfig(i,"件");t.setOption(o)})},washingMachineInventory:function(){var e=this,t=this.$echarts.init(document.getElementById("washingMachineInventory"));u.a.get("/getWashingMachineInventory").then(function(r){var i=r.data.refrigerator,o=e.ringSetConfig(i,"件");t.setOption(o)})},airCconditionerInventory:function(){var e=this,t=this.$echarts.init(document.getElementById("airCconditionerInventory"));u.a.get("/getAirCconditionerInventory").then(function(r){var i=r.data.refrigerator,o=e.ringSetConfig(i,"件");t.setOption(o)})},televisionInventory:function(){var e=this,t=this.$echarts.init(document.getElementById("televisionInventory"));u.a.get("/getTelevisionInventory").then(function(r){var i=r.data.refrigerator,o=e.ringSetConfig(i,"件");t.setOption(o)})},refrigeratorSales:function(){var e=this.$echarts.init(document.getElementById("refrigeratorSales")),t=this.smoothedLineChart({top:"5%",right:"10%",textStyle:{fontSize:11},itemHeight:15,itemWidth:12,data:["当月总销量","海尔","美的","格力","LG"]},["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"件数",[{name:"当月总销量",data:[4050,6200,3212,2480,3790,2220,2571,980,2211,2870,1566,2220],type:"bar",smooth:!0},{name:"海尔",data:[500,666,233,100,230,350,210,111,140,60,300,210],type:"line",smooth:!0},{name:"美的",data:[1e3,2666,2333,1e3,2301,102,110,95,140,400,1100,2300],type:"line",smooth:!0},{name:"格力",data:[2e3,3666,2333,1200,2401,112,115,195,160,300,1200,2400],type:"line",smooth:!0},{name:"LG",data:[1e3,2636,1333,2200,2201,120,160,295,260,340,1300,2500],type:"line",smooth:!0}]);e.setOption(t)},washingMachineSales:function(){var e=this.$echarts.init(document.getElementById("washingMachineSales")),t=this.smoothedLineChart({top:"5%",right:"10%",textStyle:{fontSize:11},itemHeight:15,itemWidth:12,data:["当月总销量","海尔","美的","格力","LG"]},["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"件数",[{name:"当月总销量",data:[5050,6e3,3212,3480,4790,1220,1571,2300],type:"bar",smooth:!0},{name:"海尔",data:[500,666,233,100,230,350,210,111],type:"line",smooth:!0},{name:"美的",data:[1e3,2666,2333,1e3,2301,102,110,95],type:"line",smooth:!0},{name:"格力",data:[2e3,3666,2333,1200,2401,112,115,195],type:"line",smooth:!0},{name:"LG",data:[1e3,2636,1333,2200,2201,120,160,295],type:"line",smooth:!0}]);e.setOption(t)},airConditionerSales:function(){var e=this.$echarts.init(document.getElementById("airConditionerSales")),t=this.smoothedLineChart({top:"5%",right:"10%",textStyle:{fontSize:11},itemHeight:15,itemWidth:12,data:["当月总销量","海尔","美的","格力","LG"]},["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"件数",[{name:"当月总销量",data:[5050,6e3,3212,3480,4790,1220,1571,2600],type:"bar",smooth:!0},{name:"海尔",data:[500,666,233,100,230,350,210,111],type:"line",smooth:!0},{name:"美的",data:[1e3,2666,2333,1e3,2301,102,110,95],type:"line",smooth:!0},{name:"格力",data:[2e3,3666,2333,1200,2401,112,115,195],type:"line",smooth:!0},{name:"LG",data:[1e3,2636,1333,2200,2201,120,160,295],type:"line",smooth:!0}]);e.setOption(t)},televisionSales:function(){var e=this.$echarts.init(document.getElementById("televisionSales")),t=this.smoothedLineChart({top:"5%",right:"10%",textStyle:{fontSize:11},itemHeight:15,itemWidth:12,data:["当月总销量","海尔","美的","格力","LG"]},["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"件数",[{name:"当月总销量",data:[5050,6e3,3212,3480,4790,1220,1571,3500],type:"bar",smooth:!0},{name:"海尔",data:[500,666,233,100,230,350,210,111],type:"line",smooth:!0},{name:"美的",data:[1e3,2666,2333,1e3,2301,102,110,95],type:"line",smooth:!0},{name:"格力",data:[2e3,3666,2333,1200,2401,112,115,195],type:"line",smooth:!0},{name:"LG",data:[1e3,2636,1333,2200,2201,120,160,295],type:"line",smooth:!0}]);e.setOption(t)},ringSetConfig:function(e,t){e.reduce(function(e,t){return e+1*t.value},0);return{backgroundColor:"#fff",color:["#55ee72","#0496ff","#bf64ff","#f5c65f","#00FFFF","#4AEAB0"],tooltip:{trigger:"item"},title:{show:!0,top:"top",left:"center",textStyle:{rich:{name:{fontSize:22,fontWeight:"bold",color:"#666",padding:[10,0]},val:{fontSize:22,fontWeight:"bold",color:"#666"}}}},legend:{left:"300",orient:"vertical",icon:"rect",x:"75%",y:"center",itemWidth:12,itemHeight:12,align:"left",textStyle:{rich:{name:{fontSize:12},value:{fontSize:16,padding:[0,5,0,15]},unit:{fontSize:12}}},formatter:function(t){var r=e.filter(function(e){return e.name===t});(r=r[0]||{}).unit;return"{name|"+t+"}"}},series:[{type:"pie",right:"200",bottom:"0",radius:"50%",center:["50%","50%"],data:e,labelLine:{normal:{length:10,length2:10}},label:{normal:{formatter:function(e){return e.value+" "+t},rich:{value:{fontSize:16,lineHeight:16},unit:{fontSize:12,lineHeight:12,padding:[0,0,2,0]}}}}}]}},smoothedLineChart:function(e,t,r,i){return{color:["#0496ff","#55ee72","#bf64ff","#f5c65f","#00FFFF","#4AEAB0"],legend:e,tooltip:{trigger:"axis"},xAxis:{type:"category",data:t,axisLine:{show:!1}},yAxis:{type:"value",name:r,axisLine:{show:!1},axisLabel:{formatter:function(e,t){return e}}},series:i}}},mounted:function(){this.refrigeratorInventory(),this.washingMachineInventory(),this.airCconditionerInventory(),this.televisionInventory(),this.refrigeratorSales(),this.washingMachineSales(),this.airConditionerSales(),this.televisionSales()}}),Y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",{staticStyle:{margin:"0px"}},[r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:6}},[r("el-card",[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("冰箱库存")])]),e._v(" "),r("div",{style:{height:"200px"},attrs:{id:"refrigeratorInventory"}})])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-card",[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("洗衣机库存")])]),e._v(" "),r("div",{style:{height:"200px"},attrs:{id:"washingMachineInventory"}})])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-card",[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("空调库存")])]),e._v(" "),r("div",{style:{height:"200px"},attrs:{id:"airCconditionerInventory"}})])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-card",[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("彩电库存")])]),e._v(" "),r("div",{style:{height:"200px"},attrs:{id:"televisionInventory"}})])],1)],1),e._v(" "),r("el-row",[r("el-card",[r("el-col",{attrs:{span:12}},[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("冰箱销量")])]),e._v(" "),r("div",{style:{height:"300px"},attrs:{id:"refrigeratorSales"}})]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("洗衣机销量")])]),e._v(" "),r("div",{style:{height:"300px"},attrs:{id:"washingMachineSales"}})])],1)],1),e._v(" "),r("el-row",[r("el-card",[r("el-col",{attrs:{span:12}},[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("空调销量")])]),e._v(" "),r("div",{style:{height:"300px"},attrs:{id:"airConditionerSales"}})]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticStyle:{margin:"5px"}},[r("h3",[e._v("彩电销量")])]),e._v(" "),r("div",{style:{height:"300px"},attrs:{id:"televisionSales"}})])],1)],1)],1)],1)},staticRenderFns:[]};var K=r("VU/8")(W,Y,!1,function(e){r("v3sK")},null,null).exports,X={data:function(){return{loading:!1,loginFrom:{Username:"",Password:""},loginRules:{Username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],Password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:6,message:"长度在 3 到 6 个字符",trigger:"blur"}]}}},methods:{login:function(){var e=this;this.loading=!0;L()({},this.loginFrom);u.a.post("/mk_login").then(function(t){e.loading=!1,window.sessionStorage.setItem("asscenToken",d()(t.data)),e.$router.push("/category")}).catch(function(t){e.loading=!1})},restLoginForm:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields(),window.sessionStorage.clear()}}},Z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",[r("el-row",{staticClass:"title"},[r("h1",[e._v("欢迎,请登录")])]),e._v(" "),r("el-row",{staticClass:"login"},[r("el-form",{ref:"loginForm",attrs:{model:e.loginFrom,"label-width":"80px",rules:e.loginRules}},[r("el-form-item",{attrs:{label:"账号",prop:"Username"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"任意账号密码即可"},model:{value:e.loginFrom.Username,callback:function(t){e.$set(e.loginFrom,"Username",t)},expression:"loginFrom.Username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"Password"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-lock"},model:{value:e.loginFrom.Password,callback:function(t){e.$set(e.loginFrom,"Password",t)},expression:"loginFrom.Password"}})],1)],1)],1),e._v(" "),r("el-row",{staticClass:"btns"},[r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],on:{click:e.login}},[e._v("登录")]),e._v(" "),r("el-button",{on:{click:function(t){return e.restLoginForm("loginForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var ee=r("VU/8")(X,Z,!1,function(e){r("eLRI")},"data-v-192a0341",null).exports,te=s.a.prototype.push;s.a.prototype.push=function(e){return te.call(this,e).catch(function(e){return e})},i.default.use(s.a);var re=new s.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:ee},{path:"/home",name:"Home",title:"进销存管理系统",redirect:"/category",component:l,children:[{path:"/category",title:"品类/品牌",component:F},{path:"/stock",title:"库存列表",component:E},{path:"/customer",title:"顾客信息",component:G},{path:"/saled",title:"出库列表",component:A},{path:"/charts",title:"库存销量图",component:K}]}]}),ie=(r("tvR6"),r("+nFJ"),r("NYxO"));i.default.use(ie.a);new ie.a.Store({store:{loginDate:[{Username:"admin",Password:"123456"},{Username:"root",Password:"root"}]}});var oe=r("32DV"),ae=r.n(oe),se=r("XLwt"),ne=r.n(se);i.default.prototype.$echarts=ne.a,r("txPn"),i.default.use(B.a),i.default.prototype.$axios=u.a,i.default.config.productionTip=!1,i.default.use(g.a),i.default.use(ae.a),i.default.use(ie.a),new i.default({router:re,render:function(e){return e(a)}}).$mount("#app")},Ohre:function(e,t){},Osx0:function(e,t){},ZnQw:function(e,t){},eLRI:function(e,t){},tvR6:function(e,t){},txPn:function(e,t,r){var i=r("zNUS"),o=(r("mw3O"),i.Random,function(){return i.mock({"refrigerator|3-6":[{name:"@csentence(2, 4)","value|1-100":20}]})});i.mock("/mk_login","post",function(e){return"token"}),i.mock("/getRefrigeratorInventory","get",o),i.mock("/getWashingMachineInventory","get",o),i.mock("/getAirCconditionerInventory","get",o),i.mock("/getTelevisionInventory","get",o)},uMV9:function(e,t){},v3sK:function(e,t){},w6MO:function(e,t){}},["NHnr"]);