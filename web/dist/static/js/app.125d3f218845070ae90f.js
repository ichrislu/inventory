webpackJsonp([1],{"+tL2":function(e,t){},"9vuw":function(e,t){},J8zU:function(e,t){},LR5c:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=r("VU/8")({name:"App"},a,!1,function(e){r("ymcE")},null,null).exports,s=r("/ocq"),l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-container",[r("el-aside",{attrs:{width:"200px"}},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#333744","text-color":"white",router:!0,"default-active":this.$route.path}},e._l(e.$router.options.routes,function(t){return r("el-submenu",{key:t.index,attrs:{index:"1","default-active":"this.$route.path","text-color":"white"}},[r("template",{slot:"title"},[r("span",[e._v(e._s(t.title))])]),e._v(" "),e._l(t.children,function(t){return r("el-menu-item",{key:t.index,attrs:{index:""+t.path}},[r("template",{slot:"title"},[r("span",[e._v(e._s(t.title))])])],2)})],2)}),1)],1),e._v(" "),r("el-container",[r("el-main",[r("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")({name:"home",data:function(){return{}},methods:{}},l,!1,function(e){r("v0PN")},null,null).exports,m=r("mvHQ"),c=r.n(m),d=function(e){for(var t=0;t<e.length;t++){var r=JSON.parse(window.sessionStorage.getItem("key_"+e[t].Bid));e[t].Brand=r.brand,e[t].Category=r.category}return e},u=function(e){var t=new URLSearchParams;for(var r in e)t.append(r,e[r]);return t},p=function(e){if(null==e)return"";var t=new Date(e),r=t.getFullYear(),o=t.getMonth()+1;o=o<10?"0"+o:o;var a=t.getDate();return r+"-"+o+"-"+(a=a<10?"0"+a:a)},h=r("mtWM"),f=r.n(h),v=r("//Fk"),b=r.n(v),g=r("zL8q"),F=r.n(g),k="http://localhost";f.a.interceptors.response.use(function(e){return e},function(e){return g.Notification.error({title:"错误",message:e.response.data,position:"bottom-right"}),b.a.reject(e)});var y=function(){return{list:[],addForm:{name:""},addBrandsForm:{name:""},bId:"",showCateDialogVisible:!1,showBrandDialogVisible:!1,bs:!1,visible:!1,addCateFormRules:{name:[{required:!0,message:"品类不能为空",trigger:"blur"}]},addBrandFormRules:{name:[{required:!0,message:"品牌不能为空",trigger:"blur"}]}}},_={created:function(){this.getList()},data:function(){return y()},methods:{getList:function(){var e,t=this;f.a.get(k+"/category",e).then(function(e){if(t.list=e.data,null!==e.data){for(var r=0;r<e.data.length;r++)for(var o=0;o<e.data[r].Category.length;o++){var a={category:e.data[r].Name,brand:e.data[r].Category[o].Name};window.sessionStorage.setItem("key_"+e.data[r].Category[o].Id,c()(a))}window.sessionStorage.setItem("pickValue",c()(t.list))}})},addcate:function(){var e=this;if(null!==this.list)for(var t=0;t<this.list.length;t++)if(this.list[t].Name==this.addForm.name)return this.$notify.error({title:"错误",message:"该分类已存在",position:"bottom-right"}),!0;var r,o={name:this.addForm.name};(r=o,f.a.post(k+"/category/",r)).then(function(t){e.$notify.success({title:"成功",message:"品类添加成功",position:"bottom-right"}),window.sessionStorage.clear(),e.getList()}).catch(function(t){e.$notify.error({title:"错误",message:"品类添加失败",position:"bottom-right"})}),this.visible=!1},addBrandId:function(e){this.bId=e,this.showBrandDialogVisible=!0},addBrand:function(){var e,t=this,r={pid:this.bId,name:this.addBrandsForm.name};(e=r,f.a.post(k+"/category",e)).then(function(){t.$notify.success({title:"成功",message:"品牌添加成功",position:"bottom-right"}),window.sessionStorage.clear(),t.getList()}).catch(function(e){t.$notify.error({title:"错误",message:"品牌添加失败",position:"bottom-right"})}),this.showBrandDialogVisible=!1},deleteBrand:function(e){var t=this;this.$confirm("确认删除该品类?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var r;(r=e,f.a.delete(k+"/category/"+r)).then(function(e){console.log(e),window.sessionStorage.clear(),t.getList(),t.$notify.success({title:"成功",message:"分类已删除",position:"bottom-right"})})})},removeBrand:function(e){var t,r=this;(t=e,f.a.delete(k+"/category/"+t)).then(function(e){window.sessionStorage.clear(),r.getList(),r.$notify.success({title:"成功",message:"品牌已删除",position:"bottom-right"})})},formClose:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields()}}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",[r("el-row",[r("el-row",{attrs:{type:"flex",justify:"space-between"}},[r("el-row",[r("div",[e._v("品类列表")])]),e._v(" "),r("el-row",[r("el-popover",{attrs:{placement:"left",width:"80px"},on:{hide:function(t){return e.formClose("addCateRef")}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("el-form",{ref:"addCateRef",attrs:{model:e.addForm,rules:e.addCateFormRules}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{staticClass:"input",model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),e._v(" "),r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addcate}},[e._v("确定")]),e._v(" "),r("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("新增品类")])],1)],1)],1),e._v(" "),r("el-row",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"",border:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"品类",prop:"Name"}}),e._v(" "),r("el-table-column",{attrs:{label:"品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-row",e._l(t.row.Category,function(t){return r("el-col",{key:t.id,attrs:{span:7}},[r("el-tag",{attrs:{size:"medium",hit:"",closable:""},on:{close:function(r){return e.removeBrand(t.Id)}}},[e._v(e._s(t.Name))])],1)}),1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"success"},on:{click:function(r){return e.addBrandId(t.row.Id)}}},[e._v("新增品牌")]),e._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(r){return e.deleteBrand(t.row.Id)}}},[e._v("删除品类")])]}}])})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增品牌",width:"30%",visible:e.showBrandDialogVisible},on:{"update:visible":function(t){e.showBrandDialogVisible=t},close:function(t){return e.formClose("addBrandsFormRef")}}},[r("el-form",{ref:"addBrandsFormRef",attrs:{"label-width":"80px",model:e.addBrandsForm,rules:e.addBrandFormRules}},[r("el-form-item",{attrs:{label:"品牌",prop:"name"}},[r("el-input",{model:{value:e.addBrandsForm.name,callback:function(t){e.$set(e.addBrandsForm,"name",t)},expression:"addBrandsForm.name"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showBrandDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addBrand}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var S=r("VU/8")(_,w,!1,function(e){r("J8zU")},"data-v-b97b097a",null).exports,C=function(){return{session:[],searchForm:{keyword:"",time:[],checked:!1},addValue:[],editValue:[],keyword:"",options:[],stockList:[],showAddFormDialogVisible:!1,addForm:{Provider:"",Date:"",Bid:"",Model:"",Price:"",Quantity:0},addFormRules:{Provider:[{required:!0,message:"请输入供应商",trigger:"blur"}],Date:[{required:!0,message:"请输入时间",trigger:"blur"}],date:[{required:!0,message:"请输入时间",trigger:"blur"}],Cate:[{required:!0,message:"请输入品类品牌",trigger:"blur"}],Model:[{required:!0,message:"请输入型号",trigger:"blur"}],Price:[{required:!0,message:"请输入进货价格",trigger:"blur"}],Quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],Inventory:[{required:!0,message:"请输入数量",trigger:"blur"}],Sell:[{required:!0,message:"请输入售价",trigger:"blur"}],Shipper:[{required:!0,message:"请输入出货人",trigger:"blur"}],OutDate:[{required:!0,message:"请输入时间",trigger:"blur"}],outQuantity:[{required:!0,message:"请输入数量",trigger:"blur"}]},showEditFormDialogVisible:!1,editForm:{Id:"",Provider:"",Date:"",Bid:"",Model:"",Price:"",Quantity:"",Inventory:"",Brand:"",Category:"",EditNum:""},remarkForm:{Remarks:"",Id:""},showRemarkDialogVisible:!1,outStockFormDialogVisible:!1,outStockForm:{Provider:"",Cate:"",Brand:"",Model:"",Price:"",Inventory:"",InDate:"",Sid:"",OutDate:"",Quantity:0,Shipper:"",Sell:""},outStockValue:"",filters:{}}},D=r("woOf"),x=r.n(D),R={data:function(){return C()},created:function(){this.getList()},methods:{getList:function(){var e,t=this;0==window.sessionStorage.length&&this.$router.push({path:"/category"}),f.a.get(k+"/stock",e).then(function(e){t.stockList=d(e.data),t.options=JSON.parse(window.sessionStorage.getItem("pickValue")),t.stockList.length>100&&t.$notify({title:"警告",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"})})},search:function(){var e,t=this,r={provider:this.searchForm.keyword,begin:this.searchForm.time[0],end:this.searchForm.time[1],all:this.searchForm.checked};(e=r,f.a.get(k+"/stock",{params:e})).then(function(e){t.stockList=d(e.data)}).catch(function(e){console.log(e.response)})},addStock:function(){var e=this;parseFloat(this.addForm.Price)<=0?this.$notify({title:"警告",message:"请输入正确的价格",position:"bottom-right",type:"warning"}):""==this.addForm.Date?this.$notify({title:"警告",message:"请输入正确的时间",position:"bottom-right",type:"warning"}):this.$refs.addForm.validate(function(t){if(t){var r={Provider:e.addForm.Provider,Date:e.addForm.Date,Bid:e.addForm.Bid,Model:e.addForm.Model,Price:parseFloat(e.addForm.Price),Quantity:e.addForm.Quantity};(o=r,f.a.post(k+"/stock",o)).then(function(t){e.addValue=[],e.$notify.success({title:"成功",message:"入库成功",position:"bottom-right"}),e.getList(),e.showAddFormDialogVisible=!1})}var o})},addChangeRef:function(){var e=this.$refs.cascader.getCheckedNodes()[0].data.Id;this.addForm.Bid=e},showRemark:function(e){this.remarkForm.Remarks=e.Remarks,this.remarkForm.Id=e.Id,this.showRemarkDialogVisible=!0},addRemark:function(){var e,t,r=this,o={remarks:this.remarkForm.Remarks};(e=this.remarkForm.Id,t=u(o),f.a.put(k+"/stock/"+e+"/remarks",t)).then(function(){r.getList(),r.showRemarkDialogVisible=!1}).catch(function(e){console.log(e.response)})},showDditForm:function(e){this.editForm=x()(e),this.editValue=[e.Category,e.Brand],this.editForm.Id=e.Id,this.editForm.EditNum=e.Quantity-e.Inventory,this.showEditFormDialogVisible=!0},changePrice:function(){this.$notify({title:"警告",message:"修改价格需要重新计算利润",position:"bottom-right",type:"warning"})},editChangeRef:function(){var e=this.$refs.editCascader.getCheckedNodes()[0].data.Id;this.editForm.Bid=e},editFormHandler:function(){var e,t,r=this;if(this.editForm.Quantity<this.editForm.EditNum&&0!=this.editForm.Quantity)return this.$notify.error({title:"错误",message:"新库存不能少于已销售数量",position:"bottom-right"}),!0;if(this.editForm.Quantity<=0)return this.$notify.error({title:"错误",message:"新库存不能为0",position:"bottom-right"}),!0;if(null==this.editForm.Date)this.$notify.error({title:"错误",message:"请输入正确的时间",position:"bottom-right"});else if(""==this.editForm.Price||0==this.editForm.Price)this.$notify.error({title:"错误",message:"请输入正确的价格",position:"bottom-right"});else{var o={Provider:this.editForm.Provider,Date:this.editForm.Date,Model:this.editForm.Model,Price:parseFloat(this.editForm.Price),Quantity:this.editForm.Quantity,Bid:this.editForm.Bid};(e=this.editForm.Id,t=u(o),f.a.put(k+"/stock/"+e,t)).then(function(e){r.$notify.success({title:"成功",message:"修改成功",position:"bottom-right"}),r.getList(),r.showEditFormDialogVisible=!1})}},showOutStock:function(e){this.outStockForm=x()(e),this.outStockValue=e.Category+" / "+e.Brand,this.outStockForm.Quantity=0,this.outStockForm.Sid=e.Id,this.outStockFormDialogVisible=!0},outStock:function(){var e=this;0==parseFloat(this.outStockForm.Sell)||""==this.outStockForm.Sell?this.$notify.error({title:"错误",message:"请输入正确的售价",position:"bottom-right"}):""==this.outStockForm.OutDate?this.$notify.error({title:"错误",message:"请输入正确的时间",position:"bottom-right"}):parseFloat(this.outStockForm.InDate)>parseFloat(this.outStockForm.OutDate)?this.$notify.error({title:"错误",message:"出库时间不能早于入库时间",position:"bottom-right"}):this.$refs.outStockForm.validate(function(t){if(t){var r={Shipper:e.outStockForm.Shipper,Date:e.outStockForm.OutDate,Sid:e.outStockForm.Sid,Price:parseFloat(e.outStockForm.Sell),Quantity:e.outStockForm.Quantity};(o=r,f.a.post(k+"/saled",o)).then(function(){e.outStockFormDialogVisible=!1,e.getList(),e.$notify.success({title:"成功",message:"出库成功",position:"bottom-right"})})}else console.log("出库信息验证未通过");var o})},tableRowClassName:function(e){return 0==e.row.Inventory?"over":""},deleteStock:function(e){var t=this;this.$confirm("确认删除该库存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var r;(r=e,f.a.delete(k+"/stock/"+r)).then(function(e){t.getList(),t.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"})})})},dataFormatter:function(e,t,r,o){return p(r)},formClose:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields(),"searchRef"==e&&(this.searchForm.checked=!1,this.getList()),"addForm"==e&&(this.addValue=[])}}},$={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",{staticStyle:{"margin-bottom":"20px"}},[r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-form",{ref:"searchRef",staticClass:"demo-form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"110px"}},[r("el-form-item",{attrs:{prop:"time",label:"进货时间"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","unlink-panels":""},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"供货商",prop:"keyword"}},[r("el-input",{attrs:{placeholder:"请输入供货商",clearable:""},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1),e._v(" "),r("el-checkbox",{model:{value:e.searchForm.checked,callback:function(t){e.$set(e.searchForm,"checked",t)},expression:"searchForm.checked"}},[e._v("全部库存")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{on:{click:function(t){return e.formClose("searchRef")}}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-card",[r("el-row",[r("el-row",{attrs:{type:"flex",justify:"space-around"}},[r("el-col",{attrs:{span:20}},[r("div",[e._v("数据列表")])]),e._v(" "),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"success"},on:{click:function(t){e.showAddFormDialogVisible=!0}}},[e._v("新增库存")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.stockList,border:"","row-class-name":e.tableRowClassName}},[r("el-table-column",{attrs:{prop:"Provider",label:"供货商",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Date",label:"进货时间",align:"center",formatter:e.dataFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"Category",label:"品类",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Brand",label:"品牌",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Price",label:"进货价格(元)",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Quantity",label:"此单总量(件)",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Inventory",label:"库存余量(件)",align:"center"}}),e._v(" "),r("el-table-column",{staticClass:"remark",attrs:{prop:"Remarks",label:"备注",width:"200px",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{width:"300px",scope:"",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:function(r){return e.showDditForm(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加备注",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-edit",size:"small",type:"success"},on:{click:function(r){return e.showRemark(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"出库",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-s-promotion",size:"small",type:"warning"},on:{click:function(r){return e.showOutStock(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-delete-solid",size:"small",type:"danger"},on:{click:function(r){return e.deleteStock(t.row.Id)}}})],1)]}}])})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增库存",visible:e.showAddFormDialogVisible,width:"30%",rules:e.addFormRules},on:{"update:visible":function(t){e.showAddFormDialogVisible=t},close:function(t){return e.formClose("addForm")}}},[r("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"120px",rules:e.addFormRules}},[r("el-form-item",{attrs:{label:"供应商",prop:"Provider"}},[r("el-input",{model:{value:e.addForm.Provider,callback:function(t){e.$set(e.addForm,"Provider",t)},expression:"addForm.Provider"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"时间",prop:"Date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.addForm.Date,callback:function(t){e.$set(e.addForm,"Date",t)},expression:"addForm.Date"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"品类"}},[r("el-cascader",{ref:"cascader",attrs:{options:e.options,props:{value:"Name",label:"Name",children:"Category",expandTrigger:"hover"}},on:{change:e.addChangeRef},model:{value:e.addValue,callback:function(t){e.addValue=t},expression:"addValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.addForm.Model,callback:function(t){e.$set(e.addForm,"Model",t)},expression:"addForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货价格(元)",prop:"Price"}},[r("el-input",{attrs:{oninput:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},model:{value:e.addForm.Price,callback:function(t){e.$set(e.addForm,"Price",e._n(t))},expression:"addForm.Price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"此单总量(件)",prop:"Quantity"}},[r("el-input-number",{attrs:{label:"描述文字",min:0,precision:0},model:{value:e.addForm.Quantity,callback:function(t){e.$set(e.addForm,"Quantity",t)},expression:"addForm.Quantity"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showAddFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addStock}},[e._v("确定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改库存",visible:e.showEditFormDialogVisible,width:"30%",rules:e.addFormRules},on:{"update:visible":function(t){e.showEditFormDialogVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px",rules:e.addFormRules}},[r("el-form-item",{attrs:{label:"供应商",prop:"Provider"}},[r("el-input",{model:{value:e.editForm.Provider,callback:function(t){e.$set(e.editForm,"Provider",t)},expression:"editForm.Provider"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"时间",prop:"Date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.editForm.Date,callback:function(t){e.$set(e.editForm,"Date",t)},expression:"editForm.Date"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"品类"}},[r("el-cascader",{ref:"editCascader",attrs:{options:e.options,props:{value:"Name",label:"Name",children:"Category",expandTrigger:"hover"}},on:{change:e.editChangeRef},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.editForm.Model,callback:function(t){e.$set(e.editForm,"Model",t)},expression:"editForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货价格(元)",prop:"Price"}},[r("el-input",{attrs:{oninput:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},on:{change:e.changePrice},model:{value:e.editForm.Price,callback:function(t){e.$set(e.editForm,"Price",t)},expression:"editForm.Price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"此单总量(件)",prop:"Quantity"}},[r("el-input-number",{attrs:{label:"描述文字",min:0,precision:0},model:{value:e.editForm.Quantity,callback:function(t){e.$set(e.editForm,"Quantity",t)},expression:"editForm.Quantity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"已销售数量(件)",prop:"EditNum"}},[r("el-input",{attrs:{label:"描述文字",disabled:""},model:{value:e.editForm.EditNum,callback:function(t){e.$set(e.editForm,"EditNum",t)},expression:"editForm.EditNum"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showEditFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.editFormHandler}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"修改库存",visible:e.showRemarkDialogVisible,width:"30%",rules:e.addFormRules},on:{"update:visible":function(t){e.showRemarkDialogVisible=t},close:function(t){return e.formClose("remarkForm")}}},[r("el-form",{ref:"remarkForm",attrs:{model:e.remarkForm,"label-width":"120px",rules:e.addFormRules}},[r("el-form-item",{attrs:{label:"备注 : ",prop:"Remarks"}},[r("el-input",{attrs:{type:"textarea",autosize:"",label:"描述文字"},model:{value:e.remarkForm.Remarks,callback:function(t){e.$set(e.remarkForm,"Remarks",t)},expression:"remarkForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showRemarkDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addRemark}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"出库",visible:e.outStockFormDialogVisible,width:"30%"},on:{"update:visible":function(t){e.outStockFormDialogVisible=t},close:function(t){return e.formClose("outStockForm")}}},[r("el-form",{ref:"outStockForm",attrs:{model:e.outStockForm,"label-width":"120px",rules:e.addFormRules}},[r("el-form-item",{attrs:{label:"供应商"}},[r("el-input",{attrs:{disabled:""},model:{value:e.outStockForm.Provider,callback:function(t){e.$set(e.outStockForm,"Provider",t)},expression:"outStockForm.Provider"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"品类"}},[r("el-input",{attrs:{disabled:""},model:{value:e.outStockValue,callback:function(t){e.outStockValue=t},expression:"outStockValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号"}},[r("el-input",{attrs:{disabled:""},model:{value:e.outStockForm.Model,callback:function(t){e.$set(e.outStockForm,"Model",t)},expression:"outStockForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"此单库存(件)"}},[r("el-input",{attrs:{disabled:""},model:{value:e.outStockForm.Inventory,callback:function(t){e.$set(e.outStockForm,"Inventory",t)},expression:"outStockForm.Inventory"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"进货价格(元)"}},[r("el-input",{attrs:{disabled:""},model:{value:e.outStockForm.Price,callback:function(t){e.$set(e.outStockForm,"Price",t)},expression:"outStockForm.Price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出货人",prop:"Shipper"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.outStockForm.Shipper,callback:function(t){e.$set(e.outStockForm,"Shipper",t)},expression:"outStockForm.Shipper"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出库时间",prop:"OutDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.outStockForm.OutDate,callback:function(t){e.$set(e.outStockForm,"OutDate",t)},expression:"outStockForm.OutDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出库数量(件)",prop:"Quantity"}},[r("el-input-number",{attrs:{label:"描述文字",min:0,precision:0},model:{value:e.outStockForm.Quantity,callback:function(t){e.$set(e.outStockForm,"Quantity",t)},expression:"outStockForm.Quantity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"售价(元)",prop:"Sell"}},[r("el-input",{attrs:{label:"描述文字",oninput:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},model:{value:e.outStockForm.Sell,callback:function(t){e.$set(e.outStockForm,"Sell",t)},expression:"outStockForm.Sell"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.outStockFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.outStock}},[e._v("确认")])],1)],1)],1)},staticRenderFns:[]};var V=r("VU/8")(R,$,!1,function(e){r("LR5c")},"data-v-5e759efa",null).exports,P=function(){return{outStockList:[],date:"",addFormRules:{name:[{required:!0,message:"请输入供应商",trigger:"blur"}],cate:[{required:!0,message:"请输入品类",trigger:"blur"}],brand:[{required:!0,message:"请输入品牌",trigger:"blur"}],mod:[{required:!0,message:"请输入型号",trigger:"blur"}],price:[{required:!0,message:"请输入进货价格",trigger:"blur"}],num:[{required:!0,message:"请输入数量",trigger:"blur"}]},showRemarkFormDialogVisible:!1,remarkForm:{Remarks:"",Id:""},searchForm:{shipper:"",time:[]}}},M={data:function(){return P()},created:function(){this.getList()},methods:{getList:function(){var e=this;0==window.sessionStorage.length&&this.$router.push({path:"/category"}),f.a.get(k+"/saled").then(function(t){var r=t.data;d(r),e.outStockList=r,e.outStockList.length>100&&e.$notify({title:"成功",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"})})},search:function(){var e,t=this,r={shipper:this.searchForm.shipper,begin:this.searchForm.time[0],end:this.searchForm.time[1]};(e=r,f.a.get(k+"/saled",{params:e})).then(function(e){t.outStockList=d(e.data)})},showRemark:function(e){this.remarkForm.Remarks=e.Remarks,this.remarkForm.Id=e.Id,this.showRemarkFormDialogVisible=!0},addRemark:function(){var e,t,r=this,o={remarks:this.remarkForm.Remarks};(e=this.remarkForm.Id,t=u(o),f.a.put(k+"/saled/"+e+"/remarks",t)).then(function(){r.getList(),r.showRemarkFormDialogVisible=!1})},formClose:function(e){"searchRef"==e&&(this.searchForm.checked=!1,this.getList()),void 0!==this.$refs[e]&&this.$refs[e].resetFields()},dataFormatter:function(e,t,r,o){return p(r)}}},I={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",{staticStyle:{"margin-bottom":"20px"}},[r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-form",{ref:"searchRef",staticClass:"demo-form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"110px"}},[r("el-form-item",{attrs:{prop:"time",label:"出货日期"}},[r("el-date-picker",{attrs:{"unlink-panels":"","value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[r("el-input",{attrs:{placeholder:"请输入出货人",clearable:""},model:{value:e.searchForm.shipper,callback:function(t){e.$set(e.searchForm,"shipper",t)},expression:"searchForm.shipper"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{on:{click:function(t){return e.formClose("searchRef")}}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-card",[r("el-row",[r("el-row",[r("el-col",{attrs:{span:15}},[r("div",[e._v("数据列表")])])],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.outStockList,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"InDate",label:"进货日期",align:"center",formatter:e.dataFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"Provider",label:"供应商",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"OutDate",label:"入库日期",align:"center",formatter:e.dataFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"Category",label:"品类",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Brand",label:"品牌",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"InPrice",label:"进货价格(元)",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"OutPrice",label:"出货价格(元)",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Quantity",label:"数量(件)",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Profit",label:"利润(元)",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center",width:"150px"}}),e._v(" "),r("el-table-column",{attrs:{scope:"",align:"center",label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加备注",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-edit",size:"medium ",type:"primary"},on:{click:function(r){return e.showRemark(t.row)}}})],1)]}}])})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"添加备注",visible:e.showRemarkFormDialogVisible,width:"30%"},on:{"update:visible":function(t){e.showRemarkFormDialogVisible=t}}},[r("el-form",{ref:"outStockRef",attrs:{model:e.remarkForm,"label-width":"120px"},on:{close:function(t){return e.formClose("outStockRef")}}},[r("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"200",size:"max",autosize:""},model:{value:e.remarkForm.Remarks,callback:function(t){e.$set(e.remarkForm,"Remarks",t)},expression:"remarkForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showRemarkFormDialogVisible=!1}}},[e._v("取消添加")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addRemark}},[e._v("确定添加")])],1)],1)],1)},staticRenderFns:[]};var N=r("VU/8")(M,I,!1,function(e){r("+tL2")},"data-v-3e382315",null).exports,L=function(){return{customerList:[],showRemarkFormDialogVisible:!1,remarkForm:{Remarks:"",Id:""},searchForm:{shipper:"",time:[],checked:!1},show:!1,customerFormDialogVisible:!1,setCustomerForm:{Shipper:"",Model:"",Name:"",Phone:"",Address:"",SaleDate:"",DeliveryDate:"",Remarks:"",Status:1},editCustomerFormDialogVisible:!1,editCustomerForm:{Id:"",Shipper:"",Model:"",Name:"",Phone:"",Address:"",SaleDate:"",DeliveryDate:"",Remarks:"",Status:1},formRules:{Shipper:[{required:!0,message:"请输入出货人",trigger:"blur"}],Model:[{required:!0,message:"请输入型号",trigger:"blur"}],Name:[{required:!0,message:"请输入顾客",trigger:"blur"}],Phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}],Address:[{required:!0,message:"请输入收货地址",trigger:"blur"}],SaleDate:[{required:!0,message:"请输入出单时间",trigger:"blur"}],DeliveryDate:[{required:!0,message:"请输入送货时间",trigger:"blur"}]},outVisible:!1,sendStockVisible:!1}},B={getList:function(){var e=this;f.a.get(k+"/customer").then(function(t){e.customerList=t.data})},checkCustomerList:function(e){return e.length>100&&this.$notify({title:"成功",message:"数据量较大,建议按日期过滤",position:"bottom-right",type:"warning"}),e},search:function(){var e,t=this,r={shipper:this.searchForm.shipper,begin:this.searchForm.time[0],end:this.searchForm.time[1],all:this.searchForm.checked};(e=r,f.a.get(k+"/customer",{params:e})).then(function(e){t.customerList=e.data,t.show=!0})},showCustomer:function(){var e=this;this.customerFormDialogVisible=!0,this.$refs.setCustomerForm.validate(function(t){if(t){var r={Shipper:e.setCustomerForm.Shipper,Name:e.setCustomerForm.Name,Phone:e.setCustomerForm.Phone,Address:e.setCustomerForm.Address,SaleDate:e.setCustomerForm.SaleDate,DeliveryDate:e.setCustomerForm.DeliveryDate,Model:e.setCustomerForm.Model,Status:e.setCustomerForm.Status,Remarks:e.setCustomerForm.Remarks};(o=r,f.a.post(k+"/customer",o)).then(function(t){e.getList(),e.customerFormDialogVisible=!1,e.$notify.success({title:"成功",message:"客户信息录入成功",position:"bottom-right"})})}else console.log("验证不通过");var o})},showEditForm:function(e){this.editCustomerFormDialogVisible=!0,this.editCustomerForm=x()(e)},EditForm:function(){var e=this,t={Shipper:this.editCustomerForm.Shipper,Model:this.editCustomerForm.Model,Name:this.editCustomerForm.Name,Phone:this.editCustomerForm.Phone,Address:this.editCustomerForm.Address,SaleDate:this.editCustomerForm.SaleDate,DeliveryDate:this.editCustomerForm.DeliveryDate,Status:this.editCustomerForm.Status};(function(e,t){return f.a.put(k+"/customer/"+e,t)})(this.editCustomerForm.Id,t).then(function(t){e.getList(),e.editCustomerFormDialogVisible=!1,e.$notify.success({title:"成功",message:"客户信息修改成功",position:"bottom-right"})})},showRemark:function(e){this.remarkForm.Remarks=e.Remarks,this.remarkForm.Id=e.Id,this.showRemarkFormDialogVisible=!0},addRemark:function(){var e,t,r=this,o={remarks:this.remarkForm.Remarks};(e=this.remarkForm.Id,t=u(o),f.a.put(k+"/customer/"+e+"/remarks",t)).then(function(e){r.getList(),r.showRemarkFormDialogVisible=!1,r.$notify.success({title:"成功",message:"修改备注成功",position:"bottom-right"})})},deleteCustomer:function(e){var t=this;this.$confirm("确认删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete("http://localhost/customer/"+e).then(function(e){t.getList(),t.$notify.success({title:"成功",message:"删除成功",position:"bottom-right"})})})},tableRowClassName:function(e){return 0==e.row.Status?"over":""},print:function(){this.outVisible=!0},formClose:function(e){"searchRef"==e&&(this.searchForm.checked=!1,this.getList()),void 0!==this.$refs[e]&&this.$refs[e].resetFields()},showSendStock:function(e){this.sendStockVisible=!0,this.editCustomerForm.Shipper=e.Shipper,this.editCustomerForm.Model=e.Model,this.editCustomerForm.Name=e.Name,this.editCustomerForm.Phone=e.Phone,this.editCustomerForm.Address=e.Address,this.editCustomerForm.SaleDate=e.SaleDate,this.editCustomerForm.DeliveryDate=e.DeliveryDate,this.editCustomerForm.Status=e.Status,this.editCustomerForm.Id=e.Id},sendStock:function(){var e=this,t={Shipper:this.editCustomerForm.Shipper,Model:this.editCustomerForm.Model,Name:this.editCustomerForm.Name,Phone:this.editCustomerForm.Phone,Address:this.editCustomerForm.Address,SaleDate:this.editCustomerForm.SaleDate,DeliveryDate:this.editCustomerForm.DeliveryDate,Status:0};(function(e,t){return f.a.put(k+"/customer/"+e,t)})(this.editCustomerForm.Id,t).then(function(t){e.getList(),e.sendStockVisible=!1,e.$notify.success({title:"成功",message:"出库成功",position:"bottom-right"})})},dataFormatter:function(e,t,r,o){return p(r)},dataForma:function(e){return p(e)}},Q=(window.matchMedia("print"),{data:function(){return L()},created:function(){this.getList()},methods:B}),q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-card",{staticStyle:{"margin-bottom":"20px"}},[r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-form",{ref:"searchRef",staticClass:"demo-form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"110px"}},[r("el-form-item",{attrs:{prop:"time",label:"送货日期"}},[r("el-date-picker",{attrs:{"unlink-panels":"","value-format":"timestamp",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出货人",prop:"shipper"}},[r("el-input",{attrs:{placeholder:"请输入出货人",clearable:""},model:{value:e.searchForm.shipper,callback:function(t){e.$set(e.searchForm,"shipper",t)},expression:"searchForm.shipper"}})],1),e._v(" "),r("el-checkbox",{model:{value:e.searchForm.checked,callback:function(t){e.$set(e.searchForm,"checked",t)},expression:"searchForm.checked"}},[e._v("全部客户")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),r("el-button",{on:{click:function(t){return e.formClose("searchRef")}}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-card",[r("el-row",[r("el-row",{attrs:{type:"flex",justify:"space-around"}},[r("el-col",{attrs:{span:20}},[r("div",[e._v("数据列表")])]),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"end"}},[r("el-button",{attrs:{type:"success"},on:{click:function(t){e.customerFormDialogVisible=!0}}},[e._v("新增客户")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.print}},[e._v("打印预览")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.customerList,border:"","row-class-name":e.tableRowClassName}},[r("el-table-column",{attrs:{prop:"Shipper",label:"出货人",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"SaleDate",label:"出单日期",align:"center",formatter:e.dataFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"DeliveryDate",label:"送货日期",align:"center",formatter:e.dataFormatter}}),e._v(" "),r("el-table-column",{attrs:{prop:"Model",label:"型号",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Name",label:"顾客姓名",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Phone",label:"联系电话",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Address",label:"送货地址",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Remarks",label:"备注",align:"center",width:"150px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"Status",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(1==t.row.Status?"未送货":"已送货"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{scope:"",align:"center",label:"操作",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-setting",size:"medium ",type:"primary"},on:{click:function(r){return e.showEditForm(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加备注",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-edit",size:"medium ",type:"success"},on:{click:function(r){return e.showRemark(t.row)}}})],1),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确认出库",placement:"top",enterable:!1}},[r("el-button",{attrs:{icon:"el-icon-s-goods",size:"medium ",type:"warning"},on:{click:function(r){return e.showSendStock(t.row)}}})],1)]}}])})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"客户信息",visible:e.customerFormDialogVisible,width:"30%"},on:{"update:visible":function(t){e.customerFormDialogVisible=t},close:function(t){return e.formClose("setCustomerForm")}}},[r("el-form",{ref:"setCustomerForm",attrs:{model:e.setCustomerForm,"label-width":"120px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"出货人",prop:"Shipper"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.setCustomerForm.Shipper,callback:function(t){e.$set(e.setCustomerForm,"Shipper",t)},expression:"setCustomerForm.Shipper"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.setCustomerForm.Model,callback:function(t){e.$set(e.setCustomerForm,"Model",t)},expression:"setCustomerForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"顾客姓名",prop:"Name"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.setCustomerForm.Name,callback:function(t){e.$set(e.setCustomerForm,"Name",t)},expression:"setCustomerForm.Name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.setCustomerForm.Phone,callback:function(t){e.$set(e.setCustomerForm,"Phone",t)},expression:"setCustomerForm.Phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货地址",prop:"Address"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.setCustomerForm.Address,callback:function(t){e.$set(e.setCustomerForm,"Address",t)},expression:"setCustomerForm.Address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出单时间",prop:"SaleDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.setCustomerForm.SaleDate,callback:function(t){e.$set(e.setCustomerForm,"SaleDate",t)},expression:"setCustomerForm.SaleDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"送货时间",prop:"DeliveryDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.setCustomerForm.DeliveryDate,callback:function(t){e.$set(e.setCustomerForm,"DeliveryDate",t)},expression:"setCustomerForm.DeliveryDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注 : ",prop:"Remarks"}},[r("el-input",{attrs:{type:"textarea",autosize:"",label:"描述文字"},model:{value:e.setCustomerForm.Remarks,callback:function(t){e.$set(e.setCustomerForm,"Remarks",t)},expression:"setCustomerForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.customerFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.showCustomer}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"出库",visible:e.editCustomerFormDialogVisible,width:"30%"},on:{"update:visible":function(t){e.editCustomerFormDialogVisible=t}}},[r("el-form",{ref:"setCustomerForm",attrs:{model:e.editCustomerForm,"label-width":"120px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"出货人",prop:"Shipper"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Shipper,callback:function(t){e.$set(e.editCustomerForm,"Shipper",t)},expression:"editCustomerForm.Shipper"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"型号",prop:"Model"}},[r("el-input",{model:{value:e.editCustomerForm.Model,callback:function(t){e.$set(e.editCustomerForm,"Model",t)},expression:"editCustomerForm.Model"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"顾客姓名",prop:"Name",rules:[{required:!0,message:"请输入顾客姓名"}]}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Name,callback:function(t){e.$set(e.editCustomerForm,"Name",t)},expression:"editCustomerForm.Name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Phone,callback:function(t){e.$set(e.editCustomerForm,"Phone",t)},expression:"editCustomerForm.Phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货地址",prop:"Address"}},[r("el-input",{attrs:{label:"描述文字"},model:{value:e.editCustomerForm.Address,callback:function(t){e.$set(e.editCustomerForm,"Address",t)},expression:"editCustomerForm.Address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出单时间",prop:"SaleDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.editCustomerForm.SaleDate,callback:function(t){e.$set(e.editCustomerForm,"SaleDate",t)},expression:"editCustomerForm.SaleDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"送货时间",prop:"DeliveryDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.editCustomerForm.DeliveryDate,callback:function(t){e.$set(e.editCustomerForm,"DeliveryDate",t)},expression:"editCustomerForm.DeliveryDate"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editCustomerFormDialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.EditForm}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"添加备注",visible:e.showRemarkFormDialogVisible,width:"30%"},on:{"update:visible":function(t){e.showRemarkFormDialogVisible=t},close:function(t){return e.formClose("customerForm")}}},[r("el-form",{ref:"customerForm",attrs:{model:e.remarkForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"备注",prop:"Remarks"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"200",size:"max",autosize:""},model:{value:e.remarkForm.Remarks,callback:function(t){e.$set(e.remarkForm,"Remarks",t)},expression:"remarkForm.Remarks"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showRemarkFormDialogVisible=!1}}},[e._v("取消添加")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addRemark}},[e._v("确定添加")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"出库",visible:e.sendStockVisible,width:"30%"},on:{"update:visible":function(t){e.sendStockVisible=t}}},[r("el-form",{ref:"setCustomerForm",attrs:{model:e.editCustomerForm,"label-width":"120px",rules:e.formRules}},[r("el-form-item",{attrs:{label:"送货时间",prop:"deliveryDate"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.editCustomerForm.deliveryDate,callback:function(t){e.$set(e.editCustomerForm,"deliveryDate",t)},expression:"editCustomerForm.deliveryDate"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.sendStockVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.sendStock}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{staticClass:"print",attrs:{title:"打印预览",visible:e.outVisible,width:"1086px"},on:{"update:visible":function(t){e.outVisible=t}}},[r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center","margin-bottom":"15px"}},[1==e.show?r("h2",[e._v("包含已送货的客户信息")]):e._e(),e._v(" "),r("el-button",{on:{click:function(t){e.outVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{directives:[{name:"print",rawName:"v-print",value:"#print",expression:"'#print'"}],attrs:{type:"primary"},on:{click:e.print}},[e._v("打印")])],1),e._v(" "),r("div",{attrs:{id:"print"}},[r("table",{attrs:{width:"100%",height:"100%",border:"1px solid black"}},[r("thead",[r("tr",[r("td",[e._v("出货人")]),e._v(" "),r("td",[e._v("出单日期")]),e._v(" "),r("td",[e._v("送货日期")]),e._v(" "),r("td",[e._v("顾客姓名")]),e._v(" "),r("td",[e._v("联系电话")]),e._v(" "),r("td",[e._v("型号")]),e._v(" "),r("td",[e._v("送货地址")]),e._v(" "),r("td",[e._v("备注")])])]),e._v(" "),e._l(e.customerList,function(t){return r("tr",{key:t.id},[r("td",{staticClass:"printTwo"},[e._v(e._s(t.Shipper))]),e._v(" "),r("td",{staticClass:"printTwo"},[e._v(e._s(e.dataForma(t.SaleDate)))]),e._v(" "),r("td",{staticClass:"printTwo"},[e._v(e._s(e.dataForma(t.DeliveryDate)))]),e._v(" "),r("td",{staticClass:"printTwo"},[e._v(e._s(t.Name))]),e._v(" "),r("td",{staticClass:"printTwo"},[e._v(e._s(t.Phone))]),e._v(" "),r("td",{staticClass:"printOne"},[e._v(e._s(t.Model))]),e._v(" "),r("td",{staticClass:"printThree"},[e._v(e._s(t.Address))]),e._v(" "),r("td",{staticClass:"printOne"},[e._v(e._s(t.Remarks))])])})],2)])])],1)},staticRenderFns:[]};var A=r("VU/8")(Q,q,!1,function(e){r("9vuw")},"data-v-2280c9f8",null).exports;o.default.use(s.a);var E=new s.a({routes:[{path:"/",name:"Home",title:"进销存管理系统",redirect:"/category",component:n,children:[{path:"/category",title:"品类/品牌",component:S},{path:"/stock",title:"库存列表",component:V},{path:"/customer",title:"顾客信息",component:A},{path:"/outstock",title:"出库列表",component:N}]}]}),z=(r("tvR6"),r("32DV")),O=r.n(z);o.default.prototype.$axios=f.a,o.default.config.productionTip=!1,o.default.use(F.a),o.default.use(O.a),new o.default({el:"#app",router:E,components:{App:i},template:"<App/>"})},tvR6:function(e,t){},v0PN:function(e,t){},ymcE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.125d3f218845070ae90f.js.map